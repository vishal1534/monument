/*! For license information please see collaboration_add.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[509],{49709:(t,e,a)=>{a.d(e,{B:()=>s,Y:()=>o});var o=new(a(70538).default),s={PRINT_PDF:"PRINT_PDF",SHOW_HIDE_COMPOSITE_PRODUCT:"SHOW_HIDE_COMPOSITE_PRODUCT",PRINT_IMAGE:"PRINT_IMAGE",HIDE_INVENTORY_MODEL:"HIDE_INVENTORY_MODEL",HIDE_INVENTORY_MODEL_CANCEL:"HIDE_INVENTORY_MODEL_CANCEL",GRANITE_BRONZ_PRECIOUS:"GRANITE_BRONZ_PRECIOUS",SAVE_USER_ROLE:"SAVE_USER_ROLE",FIRST_USER_ROLE_RECORD:"FIRST_USER_ROLE_RECORD",LAST_USER_ROLE_RECORD:"LAST_USER_ROLE_RECORD",NEXT_USER_ROLE_RECORD:"NEXT_USER_ROLE_RECORD",PREVIOUS_USER_ROLE_RECORD:"PREVIOUS_USER_ROLE_RECORD",GET_USER_ROLE:"GET_USER_ROLE",ADD_USER_ROLE:"ADD_USER_ROLE",DELETE_USER_ROLE:"DELETE_USER_ROLE",SAVE_PRODUCTION:"SAVE_PRODUCTION",FIRST_PRODUCTION_RECORD:"FIRST_PRODUCTION_RECORD",LAST_PRODUCTION_RECORD:"LAST_PRODUCTION_RECORD",NEXT_PRODUCTION_RECORD:"NEXT_PRODUCTION_RECORD",PREVIOUS_PRODUCTION_RECORD:"PREVIOUS_PRODUCTION_RECORD",GET_PRODUCTION:"GET_PRODUCTION",ADD_PRODUCTION:"ADD_PRODUCTION",DELETE_PRODUCTION:"DELETE_PRODUCTION",SAVE_PRODUCTION_SANDBLASTING:"SAVE_PRODUCTION_SANDBLASTING",FIRST_PRODUCTION_SANDBLASTING_RECORD:"FIRST_PRODUCTION_SANDBLASTING_RECORD",LAST_PRODUCTION_SANDBLASTING_RECORD:"LAST_PRODUCTION_SANDBLASTING_RECORD",NEXT_PRODUCTION_SANDBLASTING_RECORD:"NEXT_PRODUCTION_SANDBLASTING_RECORD",PREVIOUS_PRODUCTION_SANDBLASTING_RECORD:"PREVIOUS_PRODUCTION_SANDBLASTING_RECORD",GET_PRODUCTION_SANDBLASTING:"GET_PRODUCTION_SANDBLASTING",ADD_PRODUCTION_SANDBLASTING:"ADD_PRODUCTION_SANDBLASTING",DELETE_PRODUCTION_SANDBLASTING:"DELETE_PRODUCTION_SANDBLASTING",SAVE_PRODUCTION_PICTURE:"SAVE_PRODUCTION_PICTURE",FIRST_PRODUCTION_PICTURE_RECORD:"FIRST_PRODUCTION_PICTURE_RECORD",LAST_PRODUCTION_PICTURE_RECORD:"LAST_PRODUCTION_PICTURE_RECORD",NEXT_PRODUCTION_PICTURE_RECORD:"NEXT_PRODUCTION_PICTURE_RECORD",PREVIOUS_PRODUCTION_PICTURE_RECORD:"PREVIOUS_PRODUCTION_PICTURE_RECORD",GET_PRODUCTION_PICTURE:"GET_PRODUCTION_PICTURE",ADD_PRODUCTION_PICTURE:"ADD_PRODUCTION_PICTURE",DELETE_PRODUCTION_PICTURE:"DELETE_PRODUCTION_PICTURE",SAVE_PRODUCTION_LASER:"SAVE_PRODUCTION_LASER",FIRST_PRODUCTION_LASER_RECORD:"FIRST_PRODUCTION_LASER_RECORD",LAST_PRODUCTION_LASER_RECORD:"LAST_PRODUCTION_LASER_RECORD",NEXT_PRODUCTION_LASER_RECORD:"NEXT_PRODUCTION_LASER_RECORD",PREVIOUS_PRODUCTION_LASER_RECORD:"PREVIOUS_PRODUCTION_LASER_RECORD",GET_PRODUCTION_LASER:"GET_PRODUCTION_LASER",ADD_PRODUCTION_LASER:"ADD_PRODUCTION_LASER",DELETE_PRODUCTION_LASER:"DELETE_PRODUCTION_LASER",SAVE_COLLABORATION:"SAVE_COLLABORATION",FIRST_COLLABORATION_RECORD:"FIRST_COLLABORATION_RECORD",LAST_COLLABORATION_RECORD:"LAST_COLLABORATION_RECORD",NEXT_COLLABORATION_RECORD:"NEXT_COLLABORATION_RECORD",PREVIOUS_COLLABORATION_RECORD:"PREVIOUS_COLLABORATION_RECORD",GET_COLLABORATION:"GET_COLLABORATION",ADD_COLLABORATION:"ADD_COLLABORATION",DELETE_COLLABORATION:"DELETE_COLLABORATION",SAVE_COLLABORATOR:"SAVE_COLLABORATOR",FIRST_COLLABORATOR_RECORD:"FIRST_COLLABORATOR_RECORD",LAST_COLLABORATOR_RECORD:"LAST_COLLABORATOR_RECORD",NEXT_COLLABORATOR_RECORD:"NEXT_COLLABORATOR_RECORD",PREVIOUS_COLLABORATOR_RECORD:"PREVIOUS_COLLABORATOR_RECORD",GET_COLLABORATOR:"GET_COLLABORATOR",ADD_COLLABORATOR:"ADD_COLLABORATOR",DELETE_COLLABORATOR:"DELETE_COLLABORATOR",SAVE_COLLABORATORTYPE:"SAVE_COLLABORATORTYPE",FIRST_COLLABORATORTYPE_RECORD:"FIRST_COLLABORATORTYPE_RECORD",LAST_COLLABORATORTYPE_RECORD:"LAST_COLLABORATORTYPE_RECORD",NEXT_COLLABORATORTYPE_RECORD:"NEXT_COLLABORATORTYPE_RECORD",PREVIOUS_COLLABORATORTYPE_RECORD:"PREVIOUS_COLLABORATORTYPE_RECORD",GET_COLLABORATORTYPE:"GET_COLLABORATORTYPE",ADD_COLLABORATORTYPE:"ADD_COLLABORATORTYPE",DELETE_COLLABORATORTYPE:"DELETE_COLLABORATORTYPE",SAVE_CEMETERY:"SAVE_CEMETERY",FIRST_CEMETERY_RECORD:"FIRST_CEMETERY_RECORD",LAST_CEMETERY_RECORD:"LAST_CEMETERY_RECORD",NEXT_CEMETERY_RECORD:"NEXT_CEMETERY_RECORD",PREVIOUS_CEMETERY_RECORD:"PREVIOUS_CEMETERY_RECORD",GET_CEMETERY:"GET_CEMETERY",ADD_CEMETERY:"ADD_CEMETERY",DELETE_CEMETERY:"DELETE_CEMETERY",SAVE_CEMETERY_CATEGORY:"SAVE_CEMETERY_CATEGORY",FIRST_CEMETERY_CATEGORY_RECORD:"FIRST_CEMETERY_CATEGORY_RECORD",LAST_CEMETERY_CATEGORY_RECORD:"LAST_CEMETERY_CATEGORY_RECORD",NEXT_CEMETERY_CATEGORY_RECORD:"NEXT_CEMETERY_CATEGORY_RECORD",PREVIOUS_CEMETERY_CATEGORY_RECORD:"PREVIOUS_CEMETERY_CATEGORY_RECORD",GET_CEMETERY_CATEGORY:"GET_CEMETERY_CATEGORY",ADD_CEMETERY_CATEGORY:"ADD_CEMETERY_CATEGORY",DELETE_CEMETERY_CATEGORY:"DELETE_CEMETERY_CATEGORY",SAVE_DEPARTMENT:"SAVE_DEPARTMENT",FIRST_DEPARTMENT_RECORD:"FIRST_DEPARTMENT_RECORD",LAST_DEPARTMENT_RECORD:"LAST_DEPARTMENT_RECORD",NEXT_DEPARTMENT_RECORD:"NEXT_DEPARTMENT_RECORD",PREVIOUS_DEPARTMENT_RECORD:"PREVIOUS_DEPARTMENT_RECORD",GET_DEPARTMENT:"GET_DEPARTMENT",ADD_DEPARTMENT:"ADD_DEPARTMENT",DELETE_DEPARTMENT:"DELETE_DEPARTMENT",SAVE_COSTPSQUREFEET:"SAVE_COSTPSQUREFEET",FIRST_COSTPSQUREFEET_RECORD:"FIRST_COSTPSQUREFEET_RECORD",LAST_COSTPSQUREFEET_RECORD:"LAST_COSTPSQUREFEET_RECORD",NEXT_COSTPSQUREFEET_RECORD:"NEXT_COSTPSQUREFEET_RECORD",PREVIOUS_COSTPSQUREFEET_RECORD:"PREVIOUS_COSTPSQUREFEET_RECORD",GET_COSTPSQUREFEET:"GET_COSTPSQUREFEET",ADD_COSTPSQUREFEET:"ADD_COSTPSQUREFEET",DELETE_COSTPSQUREFEET:"DELETE_COSTPSQUREFEET",SAVE_ORDER:"SAVE_ORDER",ADD_ORDER:"ADD_ORDER",DELETE_ORDER:"DELETE_ORDER",GET_ORDER:"GET_ORDER",FIRST_ORDER_RECORD:"FIRST_ORDER_RECORD",LAST_ORDER_RECORD:"LAST_ORDER_RECORD",NEXT_ORDER_RECORD:"NEXT_ORDER_RECORD",PREVIOUS_ORDER_RECORD:"PREVIOUS_ORDER_RECORD",MULTIPLE_FILE_UPLOAD_MSG:"MULTIPLE_FILE_UPLOAD_MSG",SAVE_WORK_ORDER:"SAVE_WORK_ORDER",ADD_WORK_ORDER:"ADD_WORK_ORDER",DELETE_WORK_ORDER:"DELETE_WORK_ORDER",GET_WORK_ORDER:"GET_WORK_ORDER",FIRST_WORK_ORDER_RECORD:"FIRST_WORK_ORDER_RECORD",LAST_WORK_ORDER_RECORD:"LAST_WORK_ORDER_RECORD",NEXT_WORK_ORDER_RECORD:"NEXT_WORK_ORDER_RECORD",PREVIOUS_WORK_ORDER_RECORD:"PREVIOUS_WORK_ORDER_RECORD",SAVE_QUOTE:"SAVE_QUOTE",ADD_QUOTE:"ADD_QUOTE",DELETE_QUOTE:"DELETE_QUOTE",GET_QUOTE:"GET_QUOTE",FIRST_QUOTE_RECORD:"FIRST_QUOTE_RECORD",LAST_QUOTE_RECORD:"LAST_QUOTE_RECORD",NEXT_QUOTE_RECORD:"NEXT_QUOTE_RECORD",PREVIOUS_QUOTE_RECORD:"PREVIOUS_QUOTE_RECORD",QUOTE_PRINT_PDF:"QUOTE_PRINT_PDF",QUOTE_DOWNLOAD_PDF:"QUOTE_DOWNLOAD_PDF",SAVE_INSTALLATION:"SAVE_INSTALLATION",ADD_INSTALLATION:"ADD_INSTALLATION",DELETE_INSTALLATION:"DELETE_INSTALLATION",GET_INSTALLATION:"GET_INSTALLATION",FIRST_INSTALLATION_RECORD:"FIRST_INSTALLATION_RECORD",LAST_INSTALLATION_RECORD:"LAST_INSTALLATION_RECORD",NEXT_INSTALLATION_RECORD:"NEXT_INSTALLATION_RECORD",PREVIOUS_INSTALLATION_RECORD:"PREVIOUS_INSTALLATION_RECORD",SAVE_WEEKLY_SCHEDULE:"SAVE_WEEKLY_SCHEDULE",ADD_WEEKLY_SCHEDULE:"ADD_WEEKLY_SCHEDULE",DELETE_WEEKLY_SCHEDULE:"DELETE_WEEKLY_SCHEDULE",GET_WEEKLY_SCHEDULE:"GET_WEEKLY_SCHEDULE",FIRST_WEEKLY_SCHEDULE_RECORD:"FIRST_WEEKLY_SCHEDULE_RECORD",LAST_WEEKLY_SCHEDULE_RECORD:"LAST_WEEKLY_SCHEDULE_RECORD",NEXT_WEEKLY_SCHEDULE_RECORD:"NEXT_WEEKLY_SCHEDULE_RECORD",PREVIOUS_WEEKLY_SCHEDULE_RECORD:"PREVIOUS_WEEKLY_SCHEDULE_RECORD",SAVE_INSTALLER:"SAVE_INSTALLER",ADD_INSTALLER:"ADD_INSTALLER",DELETE_INSTALLER:"DELETE_INSTALLER",GET_INSTALLER:"GET_INSTALLER",GET_INSTALLER_ORDER:"GET_INSTALLER_ORDER",FIRST_INSTALLER_RECORD:"FIRST_INSTALLER_RECORD",LAST_INSTALLER_RECORD:"LAST_INSTALLER_RECORD",NEXT_INSTALLER_RECORD:"NEXT_INSTALLER_RECORD",PREVIOUS_INSTALLER_RECORD:"PREVIOUS_INSTALLER_RECORD",SAVE_LOADER:"SAVE_LOADER",ADD_LOADER:"ADD_LOADER",DELETE_LOADER:"DELETE_LOADER",GET_LOADER:"GET_LOADER",FIRST_LOADER_RECORD:"FIRST_LOADER_RECORD",LAST_LOADER_RECORD:"LAST_LOADER_RECORD",NEXT_LOADER_RECORD:"NEXT_LOADER_RECORD",PREVIOUS_LOADER_RECORD:"PREVIOUS_LOADER_RECORD",SAVE_INSTALLATION_PRODUCTION:"SAVE_INSTALLATION_PRODUCTION",ADD_INSTALLATION_PRODUCTION:"ADD_INSTALLATION_PRODUCTION",DELETE_INSTALLATION_PRODUCTION:"DELETE_INSTALLATION_PRODUCTION",GET_INSTALLATION_PRODUCTION:"GET_INSTALLATION_PRODUCTION",FIRST_INSTALLATION_PRODUCTION_RECORD:"FIRST_INSTALLATION_PRODUCTION_RECORD",LAST_INSTALLATION_PRODUCTION_RECORD:"LAST_INSTALLATION_PRODUCTION_RECORD",NEXT_INSTALLATION_PRODUCTION_RECORD:"NEXT_INSTALLATION_PRODUCTION_RECORD",PREVIOUS_INSTALLATION_PRODUCTION_RECORD:"PREVIOUS_INSTALLATION_PRODUCTION_RECORD",SAVE_ORDER_INSTALLATION:"SAVE_ORDER_INSTALLATION",SAVE_ORDER_INSTALLATION_STEP1:"SAVE_ORDER_INSTALLATION_STEP1",SAVE_ORDER_INSTALLATION_STEP2:"SAVE_ORDER_INSTALLATION_STEP2",SAVE_ORDER_INSTALLATION_STEP3:"SAVE_ORDER_INSTALLATION_STEP3",ADD_ORDER_INSTALLATION:"ADD_ORDER_INSTALLATION",DELETE_ORDER_INSTALLATION:"DELETE_ORDER_INSTALLATION",GET_ORDER_INSTALLATION:"GET_ORDER_INSTALLATION",FIRST_ORDER_INSTALLATION_RECORD:"FIRST_ORDER_INSTALLATION_RECORD",LAST_ORDER_INSTALLATION_RECORD:"LAST_ORDER_INSTALLATION_RECORD",NEXT_ORDER_INSTALLATION_RECORD:"NEXT_ORDER_INSTALLATION_RECORD",PREVIOUS_ORDER_INSTALLATION_RECORD:"PREVIOUS_ORDER_INSTALLATION_RECORD",SAVE_ACCOUNTING:"SAVE_ACCOUNTING",FIRST_ACCOUNTING_RECORD:"FIRST_ACCOUNTING_RECORD",LAST_ACCOUNTING_RECORD:"LAST_ACCOUNTING_RECORD",NEXT_ACCOUNTING_RECORD:"NEXT_ACCOUNTING_RECORD",PREVIOUS_ACCOUNTING_RECORD:"PREVIOUS_ACCOUNTING_RECORD",GET_ACCOUNTING:"GET_ACCOUNTING",ADD_ACCOUNTING:"ADD_ACCOUNTING",DELETE_ACCOUNTING:"DELETE_ACCOUNTING",SAVE_USER:"SAVE_USER",FIRST_USER_RECORD:"FIRST_USER_RECORD",LAST_USER_RECORD:"LAST_USER_RECORD",NEXT_USER_RECORD:"NEXT_USER_RECORD",PREVIOUS_USER_RECORD:"PREVIOUS_USER_RECORD",GET_USER:"GET_USER",ADD_USER:"ADD_USER",DELETE_USER:"DELETE_USER",LOAD_CUSTOMER_INVOICE_LIST:"LOAD_CUSTOMER_INVOICE_LIST",SAVE_PAPER_LOCATION:"SAVE_PAPER_LOCATION",FIRST_PAPER_LOCATION_RECORD:"FIRST_PAPER_LOCATION_RECORD",LAST_PAPER_LOCATION_RECORD:"LAST_PAPER_LOCATION_RECORD",NEXT_PAPER_LOCATION_RECORD:"NEXT_PAPER_LOCATION_RECORD",PREVIOUS_PAPER_LOCATION_RECORD:"PREVIOUS_PAPER_LOCATION_RECORD",GET_PAPER_LOCATION:"GET_PAPER_LOCATION",ADD_PAPER_LOCATION:"ADD_PAPER_LOCATION",DELETE_PAPER_LOCATION:"DELETE_PAPER_LOCATION",SAVE_RESOURCE:"SAVE_RESOURCE",FIRST_RESOURCE_RECORD:"FIRST_RESOURCE_RECORD",LAST_RESOURCE_RECORD:"LAST_RESOURCE_RECORD",NEXT_RESOURCE_RECORD:"NEXT_RESOURCE_RECORD",PREVIOUS_RESOURCE_RECORD:"PREVIOUS_RESOURCE_RECORD",GET_RESOURCE:"GET_RESOURCE",ADD_RESOURCE:"ADD_RESOURCE",DELETE_RESOURCE:"DELETE_RESOURCE",SAVE_ORDER_STATUS:"SAVE_ORDER_STATUS",FIRST_ORDER_STATUS_RECORD:"FIRST_ORDER_STATUS_RECORD",LAST_ORDER_STATUS_RECORD:"LAST_ORDER_STATUS_RECORD",NEXT_ORDER_STATUS_RECORD:"NEXT_ORDER_STATUS_RECORD",PREVIOUS_ORDER_STATUS_RECORD:"PREVIOUS_ORDER_STATUS_RECORD",GET_ORDER_STATUS:"GET_ORDER_STATUS",ADD_ORDER_STATUS:"ADD_ORDER_STATUS",DELETE_ORDER_STATUS:"DELETE_ORDER_STATUS",SAVE_COMPANY:"SAVE_COMPANY",FIRST_CUSTOMER_RECORD:"FIRST_CUSTOMER_RECORD",LAST_CUSTOMER_RECORD:"LAST_CUSTOMER_RECORD",NEXT_CUSTOMER_RECORD:"NEXT_CUSTOMER_RECORD",PREVIOUS_CUSTOMER_RECORD:"PREVIOUS_CUSTOMER_RECORD",GET_CUSTOMER:"GET_CUSTOMER",ADD_CUSTOMER:"ADD_CUSTOMER",DELETE_CUSTOMER:"DELETE_CUSTOMER",SAVE_MONUMENT:"SAVE_MONUMENT",FIRST_MONUMENT_RECORD:"FIRST_MONUMENT_RECORD",LAST_MONUMENT_RECORD:"LAST_MONUMENT_RECORD",NEXT_MONUMENT_RECORD:"NEXT_MONUMENT_RECORD",PREVIOUS_MONUMENT_RECORD:"PREVIOUS_MONUMENT_RECORD",GET_MONUMENT:"GET_MONUMENT",ADD_MONUMENT:"ADD_MONUMENT",DELETE_MONUMENT:"DELETE_MONUMENT",SAVE_MONUMENT_TYPE:"SAVE_MONUMENT_TYPE",FIRST_MONUMENT_TYPE_RECORD:"FIRST_MONUMENT_TYPE_RECORD",LAST_MONUMENT_TYPE_RECORD:"LAST_MONUMENT_TYPE_RECORD",NEXT_MONUMENT_TYPE_RECORD:"NEXT_MONUMENT_TYPE_RECORD",PREVIOUS_MONUMENT_TYPE_RECORD:"PREVIOUS_MONUMENT_TYPE_RECORD",GET_MONUMENT_TYPE:"GET_MONUMENT_TYPE",ADD_MONUMENT_TYPE:"ADD_MONUMENT_TYPE",DELETE_MONUMENT_TYPE:"DELETE_MONUMENT_TYPE",SAVE_MONUMENT_SIDE:"SAVE_MONUMENT_SIDE",FIRST_MONUMENT_SIDE_RECORD:"FIRST_MONUMENT_SIDE_RECORD",LAST_MONUMENT_SIDE_RECORD:"LAST_MONUMENT_SIDE_RECORD",NEXT_MONUMENT_SIDE_RECORD:"NEXT_MONUMENT_SIDE_RECORD",PREVIOUS_MONUMENT_SIDE_RECORD:"PREVIOUS_MONUMENT_SIDE_RECORD",GET_MONUMENT_SIDE:"GET_MONUMENT_SIDE",ADD_MONUMENT_SIDE:"ADD_MONUMENT_SIDE",DELETE_MONUMENT_SIDE:"DELETE_MONUMENT_SIDE",SAVE_MONUMENT_POLISH:"SAVE_MONUMENT_POLISH",FIRST_MONUMENT_POLISH_RECORD:"FIRST_MONUMENT_POLISH_RECORD",LAST_MONUMENT_POLISH_RECORD:"LAST_MONUMENT_POLISH_RECORD",NEXT_MONUMENT_POLISH_RECORD:"NEXT_MONUMENT_POLISH_RECORD",PREVIOUS_MONUMENT_POLISH_RECORD:"PREVIOUS_MONUMENT_POLISH_RECORD",GET_MONUMENT_POLISH:"GET_MONUMENT_POLISH",ADD_MONUMENT_POLISH:"ADD_MONUMENT_POLISH",DELETE_MONUMENT_POLISH:"DELETE_MONUMENT_POLISH",SAVE_MONUMENT_COLOR:"SAVE_MONUMENT_COLOR",FIRST_MONUMENT_COLOR_RECORD:"FIRST_MONUMENT_COLOR_RECORD",LAST_MONUMENT_COLOR_RECORD:"LAST_MONUMENT_COLOR_RECORD",NEXT_MONUMENT_COLOR_RECORD:"NEXT_MONUMENT_COLOR_RECORD",PREVIOUS_MONUMENT_COLOR_RECORD:"PREVIOUS_MONUMENT_COLOR_RECORD",GET_MONUMENT_COLOR:"GET_MONUMENT_COLOR",ADD_MONUMENT_COLOR:"ADD_MONUMENT_COLOR",DELETE_MONUMENT_COLOR:"DELETE_MONUMENT_COLOR",SAVE_MONUMENT_SHAPE:"SAVE_MONUMENT_SHAPE",FIRST_MONUMENT_SHAPE_RECORD:"FIRST_MONUMENT_SHAPE_RECORD",LAST_MONUMENT_SHAPE_RECORD:"LAST_MONUMENT_SHAPE_RECORD",NEXT_MONUMENT_SHAPE_RECORD:"NEXT_MONUMENT_SHAPE_RECORD",PREVIOUS_MONUMENT_SHAPE_RECORD:"PREVIOUS_MONUMENT_SHAPE_RECORD",GET_MONUMENT_SHAPE:"GET_MONUMENT_SHAPE",ADD_MONUMENT_SHAPE:"ADD_MONUMENT_SHAPE",DELETE_MONUMENT_SHAPE:"DELETE_MONUMENT_SHAPE",SAVE_SIMPLE:"SAVE_SIMPLE",ADD_SIMPLE:"ADD_SIMPLE",DELETE_SIMPLE:"DELETE_SIMPLE",GET_SIMPLE:"GET_SIMPLE",FIRST_SIMPLE_RECORD:"FIRST_SIMPLE_RECORD",LAST_SIMPLE_RECORD:"LAST_SIMPLE_RECORD",NEXT_SIMPLE_RECORD:"NEXT_SIMPLE_RECORD",PREVIOUS_SIMPLE_RECORD:"PREVIOUS_SIMPLE_RECORD",SAVE_SIMPLE_CATEGORY:"SAVE_SIMPLE_CATEGORY",ADD_SIMPLE_CATEGORY:"ADD_SIMPLE_CATEGORY",DELETE_SIMPLE_CATEGORY:"DELETE_SIMPLE_CATEGORY",GET_SIMPLE_CATEGORY:"GET_SIMPLE_CATEGORY",FIRST_SIMPLE_CATEGORY_RECORD:"FIRST_SIMPLE_CATEGORY_RECORD",LAST_SIMPLE_CATEGORY_RECORD:"LAST_SIMPLE_CATEGORY_RECORD",NEXT_SIMPLE_CATEGORY_RECORD:"NEXT_SIMPLE_CATEGORY_RECORD",PREVIOUS_SIMPLE_CATEGORY_RECORD:"PREVIOUS_SIMPLE_CATEGORY_RECORD",SAVE_SERVICE:"SAVE_SERVICE",ADD_SERVICE:"ADD_SERVICE",DELETE_SERVICE:"DELETE_SERVICE",GET_SERVICE:"GET_SERVICE",FIRST_SERVICE_RECORD:"FIRST_SERVICE_RECORD",LAST_SERVICE_RECORD:"LAST_SERVICE_RECORD",NEXT_SERVICE_RECORD:"NEXT_SERVICE_RECORD",PREVIOUS_SERVICE_RECORD:"PREVIOUS_SERVICE_RECORD",SAVE_SERVICE_CATEGORY:"SAVE_SERVICE_CATEGORY",ADD_SERVICE_CATEGORY:"ADD_SERVICE_CATEGORY",DELETE_SERVICE_CATEGORY:"DELETE_SERVICE_CATEGORY",GET_SERVICE_CATEGORY:"GET_SERVICE_CATEGORY",FIRST_SERVICE_CATEGORY_RECORD:"FIRST_SERVICE_CATEGORY_RECORD",LAST_SERVICE_CATEGORY_RECORD:"LAST_SERVICE_CATEGORY_RECORD",NEXT_SERVICE_CATEGORY_RECORD:"NEXT_SERVICE_CATEGORY_RECORD",PREVIOUS_SERVICE_CATEGORY_RECORD:"PREVIOUS_SERVICE_CATEGORY_RECORD",SAVE_COMPOSITE:"SAVE_COMPOSITE",ADD_COMPOSITE:"ADD_COMPOSITE",DELETE_COMPOSITE:"DELETE_COMPOSITE",GET_COMPOSITE:"GET_COMPOSITE",FIRST_COMPOSITE_RECORD:"FIRST_COMPOSITE_RECORD",LAST_COMPOSITE_RECORD:"LAST_COMPOSITE_RECORD",NEXT_COMPOSITE_RECORD:"NEXT_COMPOSITE_RECORD",PREVIOUS_COMPOSITE_RECORD:"PREVIOUS_COMPOSITE_RECORD",SAVE_COMPOSITE_CATEGORY:"SAVE_COMPOSITE_CATEGORY",ADD_COMPOSITE_CATEGORY:"ADD_COMPOSITE_CATEGORY",DELETE_COMPOSITE_CATEGORY:"DELETE_COMPOSITE_CATEGORY",GET_COMPOSITE_CATEGORY:"GET_COMPOSITE_CATEGORY",FIRST_COMPOSITE_CATEGORY_RECORD:"FIRST_COMPOSITE_CATEGORY_RECORD",LAST_COMPOSITE_CATEGORY_RECORD:"LAST_COMPOSITE_CATEGORY_RECORD",NEXT_COMPOSITE_CATEGORY_RECORD:"NEXT_COMPOSITE_CATEGORY_RECORD",PREVIOUS_COMPOSITE_CATEGORY_RECORD:"PREVIOUS_COMPOSITE_CATEGORY_RECORD",SAVE_MEMORIAL_PRODUCTION:"SAVE_MEMORIAL_PRODUCTION",REMOVE_MEMORIAL_PRODUCTION:"REMOVE_MEMORIAL_PRODUCTION",UPLOAD_COLLABORATION_IMAGE:"UPLOAD_COLLABORATION_IMAGE",SAVE_SUPPLIER:"SAVE_SUPPLIER",FIRST_SUPPLIER_RECORD:"FIRST_SUPPLIER_RECORD",LAST_SUPPLIER_RECORD:"LAST_SUPPLIER_RECORD",NEXT_SUPPLIER_RECORD:"NEXT_SUPPLIER_RECORD",PREVIOUS_SUPPLIER_RECORD:"PREVIOUS_SUPPLIER_RECORD",GET_SUPPLIER:"GET_SUPPLIER",ADD_SUPPLIER:"ADD_SUPPLIER",DELETE_SUPPLIER:"DELETE_SUPPLIER",SAVE_PURCHASE_ORDER:"SAVE_PURCHASE_ORDER",FIRST_PURCHASE_ORDER_RECORD:"FIRST_PURCHASE_ORDER_RECORD",LAST_PURCHASE_ORDER_RECORD:"LAST_PURCHASE_ORDER_RECORD",NEXT_PURCHASE_ORDER_RECORD:"NEXT_PURCHASE_ORDER_RECORD",PREVIOUS_PURCHASE_ORDER_RECORD:"PREVIOUS_PURCHASE_ORDER_RECORD",GET_PURCHASE_ORDER:"GET_PURCHASE_ORDER",ADD_PURCHASE_ORDER:"ADD_PURCHASE_ORDER",DELETE_PURCHASE_ORDER:"DELETE_PURCHASE_ORDER",SAVE_EQUIPMENT:"SAVE_EQUIPMENT",FIRST_EQUIPMENT_RECORD:"FIRST_EQUIPMENT_RECORD",LAST_EQUIPMENT_RECORD:"LAST_EQUIPMENT_RECORD",NEXT_EQUIPMENT_RECORD:"NEXT_EQUIPMENT_RECORD",PREVIOUS_EQUIPMENT_RECORD:"PREVIOUS_EQUIPMENT_RECORD",GET_EQUIPMENT:"GET_EQUIPMENT",ADD_EQUIPMENT:"ADD_EQUIPMENT",DELETE_EQUIPMENT:"DELETE_EQUIPMENT"}},88262:(t,e,a)=>{a.d(e,{Ds:()=>s,HE:()=>o});a(70749);var o=function(t){return""==t?null:(window.detectChanges=!0,t)},s=function(t,e){var a=null;return function(){clearTimeout(a);var o=arguments,s=this;a=setTimeout((function(){t.apply(s,o)}),e)}}},60697:(t,e,a)=>{a.d(e,{Z:()=>i});var o=a(1519),s=a.n(o)()((function(t){return t[1]}));s.push([t.id,".printing[data-v-363efa03]{margin:1rem;padding:1rem}",""]);const i=s},30580:(t,e,a)=>{a.d(e,{Z:()=>i});var o=a(1519),s=a.n(o)()((function(t){return t[1]}));s.push([t.id,"tfoot{display:contents;width:100%}",""]);const i=s},87057:(t,e,a)=>{a.d(e,{Z:()=>i});var o=a(1519),s=a.n(o)()((function(t){return t[1]}));s.push([t.id,"input[data-v-369fa362]{border:1px solid #c4c4c4!important;font-size:.75rem;margin:auto}.input-payment[data-v-369fa362]{margin-left:5.1rem;width:17.9rem!important}.input-price[data-v-369fa362]{width:13rem!important}.input-price-modal[data-v-369fa362]{width:5.4rem}.input-cemetery[data-v-369fa362]{width:15.7rem!important}.input-cemetery-modal[data-v-369fa362]{width:12.75rem!important}.input-total[data-v-369fa362]{width:8rem}.input-lg[data-v-369fa362]{width:12rem}.input-md[data-v-369fa362]{width:6rem}.input-sm[data-v-369fa362]{width:5.55rem}",""]);const i=s},32604:(t,e,a)=>{a.d(e,{Z:()=>i});var o=a(1519),s=a.n(o)()((function(t){return t[1]}));s.push([t.id,".file-size[data-v-316121a6]{font-size:10px}",""]);const i=s},57115:(t,e,a)=>{a.d(e,{Z:()=>i});var o=a(1519),s=a.n(o)()((function(t){return t[1]}));s.push([t.id,".custom-margin[data-v-9b6451ce]{margin-bottom:-.9rem;margin-left:-.4rem;margin-top:-1.5rem}.b-select-width[data-v-9b6451ce]{width:13rem}.paper-select-width[data-v-9b6451ce]{width:16rem}.custom-row[data-v-9b6451ce],.heading-of-row[data-v-9b6451ce]{padding-left:1rem}.custom-row[data-v-9b6451ce]{margin:.5rem 0}.custom-row[data-v-9b6451ce],.custom-row div[data-v-9b6451ce]{display:flex}.custom-row div label[data-v-9b6451ce]{margin:auto .5rem;white-space:nowrap!important}.custom-row div input[data-v-9b6451ce],textarea[data-v-9b6451ce]{border:1px solid #c4c4c4!important;font-size:.75rem;margin:auto}.custom-checkbox[data-v-9b6451ce]{custom-border-radius:0;line-height:1.5rem}.order-form-btn[data-v-9b6451ce]{font-size:.5rem}.label-price[data-v-9b6451ce]{width:5.5rem}.label-modal-price[data-v-9b6451ce]{width:4.5rem}.custom-image[data-v-9b6451ce]{width:10vw}.input-xxl[data-v-9b6451ce]{width:18rem}.input-xl[data-v-9b6451ce]{width:13.5rem}.input-xl-width[data-v-9b6451ce]{width:12.5rem}.input-lg[data-v-9b6451ce]{width:13rem}.input-md[data-v-9b6451ce]{width:7rem}.input-sm[data-v-9b6451ce]{width:6.3rem}.input-xs[data-v-9b6451ce]{width:4.5rem}.input-date[data-v-9b6451ce]{font-size:.75rem!important}.border[data-v-9b6451ce]{border:1px solid #c4c4c4!important}.div-border[data-v-9b6451ce]{border:1px solid #686868!important}.custom-modal-margin[data-v-9b6451ce]{background-color:#e9ecef;margin-right:-4rem;padding-bottom:.2rem;padding-left:0;padding-top:.5rem}input[data-v-9b6451ce]:focus,textarea[data-v-9b6451ce]:focus{outline:none}.product-image[data-v-9b6451ce]{height:10rem;width:15rem}.custom-label[data-v-9b6451ce]{font-size:10px}.btn[data-v-9b6451ce]:active,.btn[data-v-9b6451ce]:focus{box-shadow:none;outline:none!important}.edit-btn[data-v-9b6451ce]{font-size:10px!important}.edit-btn[data-v-9b6451ce]:hover{text-decoration:underline!important}.btn-close[data-v-9b6451ce]{background-color:#000;height:22px;width:20px}.wrap-text[data-v-9b6451ce]{font-size:12px!important;width:20rem!important}.cancel-btn-hover-bold[data-v-9b6451ce]:hover,.save-hover-bold[data-v-9b6451ce]:hover{font-weight:700}.edit-btn-hover[data-v-9b6451ce]:hover{text-decoration:underline}.hideEmailSection[data-v-9b6451ce]{display:none!important}.showEmailSection[data-v-9b6451ce]{display:flex!important}.customMarginUploaded[data-v-9b6451ce]{margin:1px .5rem!important}.customMarginUploadedFirst[data-v-9b6451ce]{margin:.9rem .5rem 0!important}.custom-row div table label.d-flex.mail-content-white-space[data-v-9b6451ce]{white-space:normal!important}.custom-row .task-collaboration-date[data-v-9b6451ce]{padding-left:5px}.custom-row .task-collaboration-closedate[data-v-9b6451ce],.custom-row .task-collaboration-date[data-v-9b6451ce]{display:block;min-width:8.5rem}.custom-row .collaboration-task-block[data-v-9b6451ce]{display:block}.custom-row .collaboration-dept-width[data-v-9b6451ce]{min-width:10rem}.collaboration-form-communication[data-v-9b6451ce]{min-width:11rem}.custom-row div .margin-left-neg[data-v-9b6451ce]{margin-left:-6px}select[data-v-9b6451ce]{border:1px solid #c4c4c4!important;font-size:.75rem;margin:auto}.dept-select-width[data-v-9b6451ce]{width:10rem}.textarea-overflow[data-v-9b6451ce]{overflow:hidden}.correspondence-checkbox[data-v-9b6451ce]{left:-12px;position:relative;top:17px}.correspondence-row[data-v-9b6451ce]{left:15px;position:relative}.correspondence-date[data-v-9b6451ce]{min-height:44px;padding:9px}.custom-minwidth-47[data-v-9b6451ce]{min-width:47.5rem}.custom-minwidth-45[data-v-9b6451ce]{min-width:45.5rem}",""]);const i=s},11214:(t,e,a)=>{a.d(e,{Z:()=>i});var o=a(1519),s=a.n(o)()((function(t){return t[1]}));s.push([t.id,".toolbar[data-v-8e4e8b34]{display:flex;margin:0 1rem}.input-md[data-v-8e4e8b34]{width:8rem}",""]);const i=s},80515:(t,e,a)=>{a.d(e,{Z:()=>_});var o=a(49709);const s={name:"PDF",props:{title:{type:String,default:"print"}},created:function(){},destroyed:function(){o.Y.$off(o.B.PRINT_PDF)},data:function(){return{printPageDisplay:!1}},mounted:function(){o.Y.$on(o.B.PRINT_PDF,this.print)},methods:{print:function(){this.printFormClone(),window.onafterprint=this.afterPrint,document.querySelector("#printPreviewPDF").addEventListener("click",(function(){document.querySelector("#pritnAndCancelPDF").remove(),window.print()})),document.querySelector("#cancelPreviewPDF").addEventListener("click",this.afterPrint)},afterPrint:function(){document.querySelector("#"+this.title+"Clone").remove(),document.querySelector("#app").style.removeProperty("display")},printFormClone:function(){var t=document.querySelector("#app"),e=this.$refs[this.title].cloneNode(!0);e.id=this.title+"Clone",e.style.display="block",t.before(e),t.style.display="none"}}};var i=a(93379),r=a.n(i),n=a(60697),l={insert:"head",singleton:!1};r()(n.Z,l);n.Z.locals;var c=a(30580),d={insert:"head",singleton:!1};r()(c.Z,d);c.Z.locals;const _=(0,a(51900).Z)(s,(function(){var t=this;return(0,t._self._c)("div",{directives:[{name:"show",rawName:"v-show",value:t.printPageDisplay,expression:"printPageDisplay"}],ref:t.title,staticClass:"printing",attrs:{id:t.title}},[t._t("printButton",(function(){return[t._m(0)]})),t._v(" "),t._t("header"),t._v(" "),t._t("body"),t._v(" "),t._t("footer")],2)}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"position-absolute mt-n4",staticStyle:{right:"0"},attrs:{id:"pritnAndCancelPDF"}},[e("button",{staticClass:"btn-info mx-1 custom-infobtn-toolbar custom-infobtn-text",attrs:{id:"printPreviewPDF",type:"button"}},[t._v("Print")]),t._v(" "),e("button",{staticClass:"btn btn-sm btn-warning mx-1 px-3 custom-dangerbtn-toolbar custom-dangerbtn-text",attrs:{id:"cancelPreviewPDF",type:"button"}},[t._v("Cancel")])])}],!1,null,"363efa03",null).exports},23328:(t,e,a)=>{a.d(e,{Z:()=>l});const o={name:"Price",props:{value:{type:Number},classes:{type:String},divClasses:{type:String},disable:{type:Boolean},readonly:{type:Boolean}},data:function(){return{isInputActive:!1}},computed:{displayValue:{get:function(){return this.isInputActive?this.value.toString():null==this.value||isNaN(this.value)?isNaN(this.value)?(console.log("value is nan"),"$ 0.00"):"$ 0.00":"$ "+parseFloat(this.value).toFixed(2).replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")},set:function(t){var e=parseFloat(t.replace(/[^\d\.]/g,""));isNaN(e)&&(e=0),this.$emit("input",parseFloat(e))}}}};var s=a(93379),i=a.n(s),r=a(87057),n={insert:"head",singleton:!1};i()(r.Z,n);r.Z.locals;const l=(0,a(51900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",{class:t.divClasses},[e("b-form-input",{class:t.classes,attrs:{type:"text",disabled:t.disable,readonly:t.readonly,size:"sm"},on:{blur:function(e){t.isInputActive=!1},focus:function(e){t.isInputActive=!0}},model:{value:t.displayValue,callback:function(e){t.displayValue=e},expression:"displayValue"}})],1)}),[],!1,null,"369fa362",null).exports},54373:(t,e,a)=>{function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,o)}return a}function s(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}a.r(e),a.d(e,{default:()=>x});var i=a(49709);function r(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return n(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var o=0,s=function(){};return{s,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return r=t.done,t},e:function(t){l=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(l)throw i}}}}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,o=new Array(e);a<e;a++)o[a]=t[a];return o}const l={name:"Toolbar",props:{id:{type:Number,default:null},saveDisabled:{type:Boolean,default:!1}},computed:{isLastRecord:function(){var t=this.$store.state[this.axiosParams.module].recordList.slice(-1)[0];return!!t&&t.id==this.id},isFirstRecord:function(){var t=this.$store.state[this.axiosParams.module].recordList[0];return!!t&&t.id==this.id},recordList:function(){var t,e=[],a=r(this.$store.state[this.axiosParams.module].recordList);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o.order){var s={value:o.id,text:o.order?o.order.invoice.invoice_number:o.order};e.push(s)}}}catch(t){a.e(t)}finally{a.f()}return e},totalRecords:function(){return this.$store.state[this.axiosParams.module].recordList.length},currentRecord:function(){var t=this,e=this.$store.state[this.axiosParams.module].recordList,a=e.find((function(e){return e.id==t.id}));return e.indexOf(a)+1},isCreatePermitted:function(){return this.$store.getters.isPermitted({resource:"Collaboration",action:"create"})},isReadPermitted:function(){return this.$store.getters.isPermitted({resource:"Collaboration",action:"read"})},isUpdatePermitted:function(){return this.$store.getters.isPermitted({resource:"Collaboration",action:"update"})},isDeletePermitted:function(){return this.$store.getters.isPermitted({resource:"Collaboration",action:"delete"})},orderLinkLists:function(){var t=this.$store.state[this.axiosParams.module].currentRecord;return t.order&&this.$store.getters.setOrderCollabProdInstallID({record:t.order,recordList:this.orderLinkList}),this.$store.getters.sortByAlphaNumeric({fieldName:"text",recordList:this.orderLinkList})},getSelected:{get:function(){return this.$props.id},set:function(t){return t}}},data:function(){return{axiosParams:{module:"collaboration"},orderLinkList:[{value:1,text:"Order Form",link:"orders",id:null},{value:2,text:"Production Form",link:"productions",id:null},{value:3,text:"Installation Form",link:"installation",id:null}]}},methods:{save:function(){i.Y.$emit(i.B.SAVE_COLLABORATION)},first:function(){this.$store.state[this.axiosParams.module].busy=!0,i.Y.$emit(i.B.FIRST_COLLABORATION_RECORD)},last:function(){this.$store.state[this.axiosParams.module].busy=!0,i.Y.$emit(i.B.LAST_COLLABORATION_RECORD)},next:function(t){this.$store.state[this.axiosParams.module].busy=!0,i.Y.$emit(i.B.NEXT_COLLABORATION_RECORD,t)},prev:function(t){this.$store.state[this.axiosParams.module].busy=!0,i.Y.$emit(i.B.PREVIOUS_COLLABORATION_RECORD,t)},getRecord:function(t){this.$store.state[this.axiosParams.module].busy=!0,i.Y.$emit(i.B.GET_COLLABORATION,t)},addRecord:function(){i.Y.$emit(i.B.ADD_COLLABORATION)},deleteRecord:function(t){i.Y.$emit(i.B.DELETE_COLLABORATION,t)}}},c=l;var d=a(93379),_=a.n(d),m=a(11214),u={insert:"head",singleton:!1};_()(m.Z,u);m.Z.locals;var E=a(51900);const b=(0,E.Z)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex align-items-center w-100"},[t.isCreatePermitted||t.isUpdatePermitted?e("div",{staticClass:"toolbar"},[e("label",{staticClass:"my-auto mx-2"},[t._v("Go to")]),t._v(" "),e("div",{staticClass:"flex-grow-1"},[e("b-form-select",{staticClass:"input-md form-control-sm rounded-0 custom-caret-toolbar my-1",attrs:{size:"sm",options:t.recordList},on:{change:t.getRecord},scopedSlots:t._u([{key:"first",fn:function(){return[e("b-form-select-option",{attrs:{value:null,disabled:""}},[t._v("Select a record")])]},proxy:!0}],null,!1,2937067484),model:{value:t.getSelected,callback:function(e){t.getSelected=e},expression:"getSelected"}})],1)]):t._e(),t._v(" "),e("div",{staticClass:"toolbar"}),t._v(" "),e("div",{staticClass:"toolbar ml-auto"},[t.isUpdatePermitted?e("button",{staticClass:"btn-info mx-1 custom-infobtn-toolbar custom-infobtn-text",attrs:{type:"button",disabled:t.saveDisabled},on:{click:t.save}},[t._v("\n                "+t._s(t.id?"Update":"Save")),t.saveDisabled?e("span",{staticClass:"spinner-grow spinner-grow-sm ml-1"}):t._e()]):t._e(),t._v(" "),e("router-link",{staticClass:"btn btn-sm btn-warning mx-1 px-3 custom-dangerbtn-toolbar custom-dangerbtn-text",attrs:{to:"/collaboration-list"}},[t._v("Back To List")]),t._v(" "),this.id?[e("b-dropdown",{staticClass:"border rounded dropdown-custom-order",attrs:{"no-caret":"","toggle-class":"p-0",size:"sm",variant:"none"},scopedSlots:t._u([{key:"button-content",fn:function(){return[e("div",{staticClass:"d-flex text-white"},[e("small",[t._v("Select the form")]),t._v(" "),e("i",{staticClass:"fa fa-caret-down ml-auto pl-2",attrs:{"aria-hidden":"true"}})])]},proxy:!0}],null,!1,1061739466)},[t._v(" "),e("b-dropdown-group",{staticClass:"overflow-auto scroll px-1",staticStyle:{height:"13vh"}},[t._l(t.orderLinkLists,(function(a,o){return[e("b-dropdown-group",[e("b-dropdown-item-button",{key:o},[e("router-link",{staticClass:"btn btn-sm m-0 my-n2",attrs:{to:"/"+a.link+"/"+a.id}},[t._v(t._s(a.text)+"\n                                    ")])],1)],1)]}))],2)],1)]:t._e()],2),t._v(" "),e("div",{staticClass:"toolbar ml-auto"},[t.isReadPermitted?e("div",{staticClass:"d-flex"},[e("div",{staticClass:"align-items-center align-self-center custom-pagination-toolbar d-flex"},[e("button",{staticClass:"btn btn-xs",attrs:{type:"button",id:"first",disabled:!t.id||t.isFirstRecord,"data-toggle":"tooltip","data-placement":"bottom",title:"First"},on:{click:function(e){return t.first()}}},[e("svg",{attrs:{width:"14",height:"19"}},[e("rect",{attrs:{width:"2",height:"19",fill:"black"}}),t._v(" "),e("path",{attrs:{d:"M14 19L14 0L5.27193e-07 9.75676L14 19Z",fill:"black"}})])]),t._v(" "),e("button",{staticClass:"btn btn-xs",attrs:{type:"button",id:"previous",disabled:!t.id||t.isFirstRecord,"data-toggle":"tooltip","data-placement":"bottom",title:"Previous"},on:{click:function(e){return t.prev(t.id)}}},[e("svg",{attrs:{width:"14",height:"19"}},[e("path",{attrs:{d:"M14 19L14 0L5.27193e-07 9.75676L14 19Z",fill:"black"}})])]),t._v(" "),e("button",{staticClass:"btn btn-xs",attrs:{type:"button",id:"next",disabled:!t.id||t.isLastRecord,"data-toggle":"tooltip","data-placement":"bottom",title:"Next"},on:{click:function(e){return t.next(t.id)}}},[e("svg",{attrs:{width:"14",height:"19"}},[e("path",{attrs:{d:"M2.26573e-07 0L0 19L14 9.24324L2.26573e-07 0Z",fill:"black"}})])]),t._v(" "),e("button",{staticClass:"btn btn-xs",attrs:{type:"button",id:"last",disabled:!t.id||t.isLastRecord,"data-toggle":"tooltip","data-placement":"bottom",title:"Last"},on:{click:t.last}},[e("svg",{attrs:{width:"16",height:"19",fill:"none"}},[e("path",{attrs:{d:"M2.26573e-07 0L0 19L14 9.24324L2.26573e-07 0Z",fill:"black"}}),t._v(" "),e("rect",{attrs:{x:"14",width:"2",height:"19",fill:"black"}})])])]),t._v(" "),e("div",{staticClass:"my-auto mx-2"},[t.currentRecord>0?e("label",{staticClass:"small mt-2"},[t._v("Record "+t._s(t.currentRecord)+" of "+t._s(t.totalRecords))]):t._e()])]):t._e(),t._v(" "),t._m(0)])])}),[function(){var t=this._self._c;return t("div",{staticClass:"d-flex mt-1"},[t("img",{staticClass:"toolbar-image mx-1 mt-1",attrs:{src:"/images/video-chat.png",width:"26",height:"26"}}),this._v(" "),t("img",{staticClass:"toolbar-image mx-1",attrs:{src:"/images/help-icon.png",width:"30",height:"30"}})])}],!1,null,"8e4e8b34",null).exports;var R=a(80515),v=a(23328);const p={name:"fileUploadModal",props:{formFields:{type:Object},accept:{type:String}},computed:{file:{get:function(){return this.formFields.upload_image},set:function(t){t&&t.size/1e6>20?(alert("File must be less than 20MB"),this.$set(this.formFields,"upload_image",null)):this.$set(this.formFields,"upload_image",t)}}},methods:{uploadImage:function(){this.$bvModal.hide("file-upload-modal"),i.Y.$emit(i.B.UPLOAD_COLLABORATION_IMAGE)},previewImage:function(t){var e=t.target;if(e.files[0].size/1024/1024>20||"application/vnd.ms-excel"!=e.files[0].type&&"text/plain"!=e.files[0].type&&"application/pdf"!=e.files[0].type&&"application/doc"!=e.files[0].type&&-1==e.files[0].type.indexOf("image")&&"application/vnd.openxmlformats-officedocument.wordprocessingml.document"!=e.files[0].type&&"application/postscript"!=e.files[0].type&&"image/svg+xml"!=e.files[0].type&&"fs"!=e.files[0].name.substr(e.files[0].name.lastIndexOf(".")+1)&&"FS"!=e.files[0].name.substr(e.files[0].name.lastIndexOf(".")+1)&&"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"!=e.files[0].type)return this.makeToast({title:"Error",message:"Invalid image type or file size exceeds 20 MB",variant:"danger",duration:5e3}),this.$refs.inputFile.reset(),!1},makeToast:function(t){this.$bvToast.toast(t.message,{id:"fileUpload-model",title:t.title,variant:t.variant,toaster:"b-toaster-top-center",autoHideDelay:t.duration?t.duration:2e3,noAutoHide:this.toastHider,noCloseButton:!0}),this.saveDisabled=!1}}};var f=a(32604),O={insert:"head",singleton:!1};_()(f.Z,O);f.Z.locals;const C=(0,E.Z)(p,(function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{id:"file-upload-modal",centered:"","button-size":"sm",title:"Upload File"},scopedSlots:t._u([{key:"modal-footer",fn:function(a){a.ok;var o=a.cancel;return[e("b-button",{attrs:{size:"sm",variant:"primary",disabled:!t.formFields.upload_image},on:{click:function(e){return t.uploadImage()}}},[t._v("Upload")]),t._v(" "),e("b-button",{attrs:{size:"sm",variant:"secondary"},on:{click:function(e){o(),t.formFields.upload_image=null}}},[t._v("Cancel")])]}}])},[t._v(" "),e("b-form-group",{staticClass:"dragdrop m-0",attrs:{id:"fileInput"}},[e("b-form-file",{ref:"inputFile",attrs:{accept:t.accept,placeholder:"Drag&Drop or select file ..."},on:{change:t.previewImage},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),t._v(" "),e("label",{staticClass:"file-size"},[t._v("Max file size : 20MB")])],1)}),[],!1,null,"316121a6",null).exports;var T=a(88262),h=a(70749);function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function S(){S=function(){return t};var t={},e=Object.prototype,a=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",r=o.toStringTag||"@@toStringTag";function n(t,e,a){return Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{n({},"")}catch(t){n=function(t,e,a){return t[e]=a}}function l(t,e,a,o){var s=e&&e.prototype instanceof _?e:_,i=Object.create(s.prototype),r=new h(o||[]);return i._invoke=function(t,e,a){var o="suspendedStart";return function(s,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===s)throw i;return A()}for(a.method=s,a.arg=i;;){var r=a.delegate;if(r){var n=O(r,a);if(n){if(n===d)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===o)throw o="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o="executing";var l=c(t,e,a);if("normal"===l.type){if(o=a.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(o="completed",a.method="throw",a.arg=l.arg)}}}(t,a,r),i}function c(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var d={};function _(){}function m(){}function u(){}var E={};n(E,s,(function(){return this}));var b=Object.getPrototypeOf,R=b&&b(b(g([])));R&&R!==e&&a.call(R,s)&&(E=R);var v=u.prototype=_.prototype=Object.create(E);function p(t){["next","throw","return"].forEach((function(e){n(t,e,(function(t){return this._invoke(e,t)}))}))}function f(t,e){function o(s,i,r,n){var l=c(t[s],t,i);if("throw"!==l.type){var d=l.arg,_=d.value;return _&&"object"==D(_)&&a.call(_,"__await")?e.resolve(_.__await).then((function(t){o("next",t,r,n)}),(function(t){o("throw",t,r,n)})):e.resolve(_).then((function(t){d.value=t,r(d)}),(function(t){return o("throw",t,r,n)}))}n(l.arg)}var s;this._invoke=function(t,a){function i(){return new e((function(e,s){o(t,a,e,s)}))}return s=s?s.then(i,i):i()}}function O(t,e){var a=t.iterator[e.method];if(void 0===a){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=c(a,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var s=o.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function g(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function e(){for(;++o<t.length;)if(a.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=u,n(v,"constructor",u),n(u,"constructor",m),m.displayName=n(u,r,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,n(t,r,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},p(f.prototype),n(f.prototype,i,(function(){return this})),t.AsyncIterator=f,t.async=function(e,a,o,s,i){void 0===i&&(i=Promise);var r=new f(l(e,a,o,s),i);return t.isGeneratorFunction(a)?r:r.next().then((function(t){return t.done?t.value:r.next()}))},p(v),n(v,r,"Generator"),n(v,s,(function(){return this})),n(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var o=e.pop();if(o in t)return a.value=o,a.done=!1,a}return a.done=!0,a}},t.values=g,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(a,o){return r.type="throw",r.arg=t,e.next=a,o&&(e.method="next",e.arg=void 0),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],r=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var n=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(n&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(n){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o];if(s.tryLoc<=this.prev&&a.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var r=i?i.completion:{};return r.type=t,r.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),T(a),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var o=a.completion;if("throw"===o.type){var s=o.arg;T(a)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:g(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=void 0),d}},t}function g(t,e,a,o,s,i,r){try{var n=t[i](r),l=n.value}catch(t){return void a(t)}n.done?e(l):Promise.resolve(l).then(o,s)}function A(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return L(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var o=0,s=function(){};return{s,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,n=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return r=t.done,t},e:function(t){n=!0,i=t},f:function(){try{r||null==a.return||a.return()}finally{if(n)throw i}}}}function L(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,o=new Array(e);a<e;a++)o[a]=t[a];return o}const I={name:"Add",props:{id:{type:Number},hideInModal:{type:Boolean,default:!1}},components:{Toolbar:b,Price:v.Z,PDF:R.Z,FileUploadModal:C},computed:{isLoading:function(){return this.$store.state[this.axiosParams.module].busy},searchCollaboratorList:function(){var t,e=this,a=[],o=A(this.formFields.collaborators);try{for(o.s();!(t=o.n()).done;){var s=t.value;if(s.type||(s.type={title:""}),s.email&&s.is_box_checked){var i={value:s.email,full_name:s.first_name+" "+s.last_name,text:s.first_name+" "+s.last_name+" <b>("+s.type.title.charAt(0)+")</b><br><b>"+s.email+"</b>"};a.push(i)}}}catch(t){o.e(t)}finally{o.f()}return""!=this.searchTerm&&(a=a.filter((function(t){return t.text.toUpperCase().indexOf(e.searchTerm.toUpperCase())>-1}))),a},isUpdatePermitted:function(){return this.$store.getters.isPermitted({resource:"Collaboration",action:"update"})},filterCollaborators:function(){var t=this;return this.searchCollaboratorList.filter((function(e){return e.value==t.email}))},username:function(){if(this.$store.state.auth.user)return this.$store.state.auth.user.name?this.$store.state.auth.user.name:"user"},isClient:function(){return!this.$store.state.auth.user||!this.$store.state.auth.user.role||"Client"==this.$store.state.auth.user.role.title},orderStatusList:function(){var t,e=[],a=A(this.$store.state.orderStatus.recordList);try{for(a.s();!(t=a.n()).done;){var o=t.value;e.push({value:o.id,text:o.title})}}catch(t){a.e(t)}finally{a.f()}return e},paperLocationList:function(){var t,e=[],a=A(this.$store.state.paperLocation.recordList);try{for(a.s();!(t=a.n()).done;){var o=t.value;e.push({value:o.id,text:o.location_title})}}catch(t){a.e(t)}finally{a.f()}return this.$store.state.paperLocation.busy=!1,e},order:function(){if(null==this.formFields.order&&(this.formFields.order={invoice:{},company:{},family:{},products:[],collaboration:{tasks:[]},correspondence:{tasks:[]}}),this.formFields.order){var t=new Date(this.formFields.order.date);this.formFields.order.customDate=t.toLocaleString("en-US",{day:"numeric",year:"numeric",month:"long",hour:"numeric",minute:"numeric",second:"numeric"})}return this.formFields.order},collaboratorTypeList:function(){var t,e=[],a=A(this.collaboratorTypes);try{for(a.s();!(t=a.n()).done;){var o=t.value;e.push({value:o.id,text:this.customizeLabel(o.title)})}}catch(t){a.e(t)}finally{a.f()}return e},collaboratorTypeNavList:function(){var t=[];t.push({value:"all",text:"Show All"});var e,a=A(this.collaboratorTypes);try{for(a.s();!(e=a.n()).done;){var o=e.value;t.push({value:o.title,text:this.customizeLabel(o.title)})}}catch(t){a.e(t)}finally{a.f()}return t},collaboratorList:function(){var t=this,e={add:[],email:[]};if(this.visibleNewCollaborator=!1,this.collaborator={},window.vue_global=this,"all"==this.selectedCollaboratorAdd){e.add=this.formFields.collaborators;var a={is_custom:!0,family_id:this.formFields.order.family.id,collaboration_id:this.$props.id?this.$props.id:0,email:this.formFields.order.family.email,first_name:this.formFields.order.family.name_on_stone,last_name:"",is_box_checked:this.formFields.order.family.email_collaborate,phone:this.formFields.order.family.phone,type:{title:"Customer"}};-1===e.add.findIndex((function(t){return t.is_custom}))&&e.add.push(a)}else e.add=this.formFields.collaborators.filter((function(e){return e.type.title.toUpperCase()==t.selectedCollaboratorAdd.toUpperCase()}));return this.formFields.collaborators.filter((function(e){var a=t.sendEmailToList.findIndex((function(t){return t.id==e.id}));-1===a&&e.is_box_checked&&t.sendEmailToList.push(e),a>-1&&0==e.is_box_checked&&t.sendEmailToList.splice(a,1)})),"all"==this.selectedCollaboratorEmail?e.email=this.formFields.collaborators:e.email=this.formFields.collaborators.filter((function(e){return e.type.title.toUpperCase()==t.selectedCollaboratorEmail.toUpperCase()})),e},collaborationImages:function(){var t,e={uploadedImages:[],rejectedImages:[],needApprovalImages:[],approvedImages:[],customerImages:[]},a=A(this.formFields.images);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(o.approved_at){var s=new Date(o.approved_at);o.custom_approved_at=s.toLocaleString("en-US",{day:"numeric",year:"numeric",month:"short",hour:"numeric",minute:"numeric",second:"numeric"})}if(o.created_at){var i=new Date(o.created_at);o.custom_created_at=i.toLocaleString("en-US",{day:"numeric",year:"numeric",month:"short",hour:"numeric",minute:"numeric",second:"numeric"})}"uploads"==o.status||"installing area"==o.status||"before pouring concrete"==o.status||"after pouring concrete"==o.status||"finished installed"==o.status||"damaged grave"==o.status||"porcelain"==o.status?e.uploadedImages.push(o):"need approval"==o.status?(this.$set(o,"approval_needed",o.is_approval_check),e.needApprovalImages.push(o)):"approved"==o.status?e.approvedImages.push(o):"customers"==o.status?e.customerImages.push(o):"rejected"==o.status&&e.rejectedImages.push(o)}}catch(t){a.e(t)}finally{a.f()}return e},checkMailSent:function(){var t,e=!1,a=A(this.formFields.images);try{for(a.s();!(t=a.n()).done;){var o=t.value;"need approval"==o.status&&0!=o.sent_mail&&(e=!0)}}catch(t){a.e(t)}finally{a.f()}return e},deptList:function(){var t,e=[],a=A(this.$store.state.department.recordList);try{for(a.s();!(t=a.n()).done;){var o=t.value;if(0==o.generic){var s={value:o.id,text:o.title};e.push(s)}}}catch(t){a.e(t)}finally{a.f()}return e},orderLogs:function(){return null==this.formFields.order_logs&&(this.formFields.order_logs=[user={}]),this.formFields.order_logs}},created:function(){i.Y.$on(i.B.SAVE_COLLABORATION,this.storeCollaboration),i.Y.$on(i.B.FIRST_COLLABORATION_RECORD,this.first),i.Y.$on(i.B.LAST_COLLABORATION_RECORD,this.last),i.Y.$on(i.B.NEXT_COLLABORATION_RECORD,this.next),i.Y.$on(i.B.PREVIOUS_COLLABORATION_RECORD,this.prev),i.Y.$on(i.B.GET_COLLABORATION,this.getDropDownCollab),i.Y.$on(i.B.ADD_COLLABORATION,this.clearForm),i.Y.$on(i.B.DELETE_COLLABORATION,this.deleteRecord),i.Y.$on(i.B.UPLOAD_COLLABORATION_IMAGE,this.uploadImage)},destroyed:function(){i.Y.$off(i.B.SAVE_COLLABORATION),i.Y.$off(i.B.FIRST_COLLABORATION_RECORD),i.Y.$off(i.B.LAST_COLLABORATION_RECORD),i.Y.$off(i.B.NEXT_COLLABORATION_RECORD),i.Y.$off(i.B.PREVIOUS_COLLABORATION_RECORD),i.Y.$off(i.B.GET_COLLABORATION),i.Y.$off(i.B.ADD_COLLABORATION),i.Y.$off(i.B.DELETE_COLLABORATION),i.Y.$off(i.B.UPLOAD_COLLABORATION_IMAGE)},data:function(){return{pageNumber:1,deleteCollaborationTasks:[],deleteCorrespondenceTask:[],deleteOrderLog:[],formFields:{id:0,mail_remainder_days:0,collaborator_mail:[],collaborators:[],images:[],order_logs:[]},isOutline:!0,collaborator:{id:0},collaboratorTypes:[],collaboratorsList:[],sendToList:[],sendEmailToList:[],mailText:"",uploadLink:!1,toastHider:!1,productsTableFields:[{key:"product_number",label:"Product #",class:"text-center text-nowrap"},{key:"item_name",label:"Product Name",class:"text-center"},{key:"quantity",label:"Qty",class:"text-center"},{key:"client_price",label:"Client Price",class:"text-nowrap"},{key:"amount",label:"Amount"},{key:"installation_price",label:"Install"},{key:"installation_amount",label:"Install Amount",thClass:"text-nowrap"},{key:"total",label:"Total",class:"text-center"},{key:"showProducts",label:"Details"}],collaboratorEmailFields:[{key:"date",label:"Date"},{key:"sent_by",label:"Sent By",class:"text-center"},{key:"send_to",label:"Send To",class:"text-center"},{key:"content",label:"Content"},{key:"attachment",label:"Attachment"}],approvedTableFields:[{key:"approved_at",label:"Approved",class:"text-center"},{key:"approved_by",label:"By",class:"text-center"},{key:"name",label:"File Name",class:"text-center"}],searchTerm:"",statusList:[{value:"Complete",text:"Complete",active:!0},{value:"in_progress",text:"In Progress",class:"bf-red"},{value:"pending",text:"Pending"}],options:[{item:"A",name:"Show All"},{item:"B",name:"Customer"},{item:"D",name:"Production"},{item:"E",name:"Cemetery"},{item:"F",name:"Vendors"}],optionsRadio:[{value:"all",text:"Show All"},{value:"customer",text:"Customer"},{value:"production",text:"Production"},{value:"cemetery",text:"Cemetery"},{value:"vendors",text:"Vendors"}],axiosParams:{module:"collaboration"},axiosOrderStatusParams:{module:"orderStatus"},axiosCollaboratorParams:{module:"collaboration",method:"collaboratorTypes"},saveDisabled:!1,visibleAddCollaborator:!1,visibleNewCollaborator:!1,visibleEmail:!1,visibleUploadFiles:!1,visibleOrderLog:!1,visibleApprovals:!1,visibleCustomerView:!1,selectedCollaboratorAdd:"all",selectedCollaboratorEmail:"all",customer_image:null,customer_image_name:null,customer_email:null,customer_message:null,docLwpPdfAiTypes:["pdf","PDF","fs","FS","docx","DOCX","xlsx","xls","ai","lwp","eps"]}},metaInfo:function(){return{title:"".concat(this.formFields.id?"Edit":"Add"," Collaboration")}},beforeCreate:function(){this.$store.getters.isPermitted({resource:"Collaboration",action:"read"})||this.$router.push("/access-denied")},mounted:function(){this.$store.state[this.axiosParams.module].busy=!0,this.formFields.id=this.$props.id?this.$props.id:0,this.$store.getters.isPermitted({resource:"Collaboration",action:"update"})||(this.$props.hideInModal=!0),this.getCollaboration(this.formFields.id),this.getColumns(),this.getRecords(),this.$store.getters.detectFormChanges()},methods:{getDropDownCollab:function(t){var e=this;this.axiosParams.id=t,(0,h.JE)(this.axiosParams,(function(t){t.data.order.products.length>0&&e.$store.getters.changedCompositePrice(t.data.order.products),t.data.order_logs.length>0&&e.sortItemByDate(t.data.order_logs),e.sortOneCollection(t.data),e.formFields=t.data,e.$store.state[e.axiosParams.module].currentRecord=e.formFields,e.formFields.collaborators=t.data.collaborator_checks,e.showCompositeProductDetails(),e.$store.state[e.axiosParams.module].busy=!1}))},getCollaboration:function(t){var e=this;t&&(this.axiosParams.id=t,(0,h.JE)(this.axiosParams,(function(t){t.data.order.products.length>0&&e.$store.getters.changedCompositePrice(t.data.order.products),t.data.order_logs.length>0&&e.sortItemByDate(t.data.order_logs),e.sortOneCollection(t.data),e.formFields=t.data,e.formFields.collaborators=t.data.collaborator_checks,e.$store.state[e.axiosParams.module].currentRecord=e.formFields,e.showCompositeProductDetails(),e.$store.state[e.axiosParams.module].recordList.length>0&&(e.$store.state[e.axiosParams.module].busy=!1)})),this.mailText=""),0==this.$store.state.collaboration.departmentInfo.length&&(this.$store.dispatch("getDepartmentInfo"),this.$store.state.department.busy=!1),0==this.$store.state.collaboration.paperLocationInfo.length&&this.$store.dispatch("getPaperLocationInfo"),this.$store.dispatch("getModuleInfo",this.axiosOrderStatusParams)},whoRejectedImage:function(t){var e=null;return t?(t.role&&("Admin"==t.role.title?e="For Customer":"Customer"==t.role.title&&(e="From Customer")),e):e},sortItemByDate:function(t){return(e=S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.sort((function(t,e){return new Date(t.date)-new Date(e.date)}));case 2:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(o,s){var i=e.apply(t,a);function r(t){g(i,o,s,r,n,"next",t)}function n(t){g(i,o,s,r,n,"throw",t)}r(void 0)}))})();var e},sortOneCollection:function(t){var e;t.order&&t.order.collaboration.tasks.length>0&&this.sortItemByDate(t.order.collaboration.tasks),t.order&&(null===(e=t.order.correspondence.tasks)||void 0===e?void 0:e.length)>0&&this.sortItemByDate(t.order.correspondence.tasks)},showCompositeProductDetails:function(){var t,e=A(this.formFields.order.products);try{for(e.s();!(t=e.n()).done;){var a=t.value;a.iscompositeDetails=!1,a.composite&&a.composite.length>0&&a.composite[0].composite_products&&a.composite[0].composite_products.length>0&&(a.iscompositeDetails=!0)}}catch(t){e.e(t)}finally{e.f()}},changeDateFormat:function(t){return this.$store.getters.changeDateFormat(t)},changeNumberFormat:function(t){return this.$store.getters.changeNumberFormat(t)},stopOutline:function(){this.isOutline=!1},checkOrderStatus:function(t){var e={moveTo:this.orderStatusLabel(t)};"Waiting On Customer"==e.moveTo&&this.addTask("collaboration",e)},autoResizeWhoCorsp:function(t){return t?Number(t.length/10):1},autoResizeFormCommunication:function(t){return t?Number(t.length/14):1},autoResizeWhyContacted:function(t){return t?Number(t.length/19):1},autoResizeCustomerReason:function(t){return t?Number(t.length/33):1},autoResizeNotes:function(t){return t?Number(t.length/31):1},autoResizeContactName:function(t){return t?Number(t.length/11):1},storeCollaboration:function(){var t=this;this.saveDisabled=!0;var e=this.formFields,a=new FormData;a.append("data",JSON.stringify(e)),a.append("image_file",this.formFields.upload_image),(0,h.K)(this.axiosParams,a,(function(e){if(e.data.errorInfo){var a=e.data.errorInfo[e.data.errorInfo.length-1];t.makeToast({title:"Error",message:a,variant:"danger"})}else{t.formFields=e.data,t.formFields.collaborators=e.data.collaborator_checks;var o="Record Successfully ".concat(t.formFields.id?"Updated":"Added");t.makeToast({title:"Success",message:o,variant:"success"}),t.$store.state[t.axiosParams.module].currentRecord=t.formFields,t.$store.getters.changedCompositePrice(t.formFields.order.products),t.axiosParams.data={id:t.formFields.id,order:{id:t.formFields.order_id,installation:{id:t.formFields.order.installation.id,order_id:t.formFields.order_id},invoice:{invoice_number:t.formFields.order.invoice.invoice_number,order_id:t.formFields.order_id},production:{id:t.formFields.order.production.id,order_id:t.formFields.order_id}},order_id:t.formFields.order_id},t.$store.commit("appendOrUpdateDropDown",t.axiosParams),t.$store.commit("appendOrUpdateInRecordList",{module:"order",data:t.formFields.order})}}),(function(e){t.makeToast({title:"Error",message:e,variant:"danger",duration:3e3})}))},deleteRecord:function(t){var e=this;confirm("Do you really want to delete this record?")&&(this.axiosParams.id=t,(0,h.JS)(this.axiosParams,(function(t){t.data?(e.$store.dispatch("removeRecordFromList",e.axiosParams),0==e.$store.state[e.axiosParams.module].recordList.length?e.clearForm():e.first()):console.log(t.data)}),(function(t){e.makeToast({title:"Error",message:t,variant:"danger",duration:3e3})})))},getColumns:function(){0==this.$store.state[this.axiosParams.module].columnList.length&&this.$store.dispatch("getColumnList",this.axiosParams)},getRecords:function(){var t=this;this.hideInModal||this.$store.dispatch("getDropDownInfo",{module:this.axiosParams.module,apiURL:"getDropDownRecord",page:this.pageNumber});var e=new FormData;e.append("collaboration_id",JSON.stringify(this.formFields.id)),this.axiosCollaboratorParams.filterData=e,(0,h.sY)(this.axiosCollaboratorParams,(function(e){t.collaboratorTypes=e.data.collaboratorType,t.collaboratorsList=e.data.collaborator,t.formFields.collaborators=t.collaboratorsList}),(function(e){console.log(e),t.makeToast({title:"Error",message:e,variant:"danger",duration:3e3})}))},saveCollaborator:function(){var t=this,e=this.collaborator;if(e.type_id){var a=new FormData;a.append("data",JSON.stringify(e)),(0,h.K)({module:"collaboration/saveCollaborator"},a,(function(e){if(e.data.errorInfo){var a=e.data.errorInfo[e.data.errorInfo.length-1];t.makeToast({title:"Error",message:a,variant:"danger"})}else{var o="Collaborator ".concat(t.collaborator.id?"Updated":"Added");t.makeToast({title:"Success",message:o,variant:"success"});var s=t.formFields.collaborators.findIndex((function(t){return t.id==e.data.id}));-1==s?t.formFields.collaborators.push(e.data):t.$set(t.formFields.collaborators,s,e.data),(s=t.sendToList.findIndex((function(t){return t.id==e.data.id})))>-1&&(t.sendToList.splice(s,1),t.sendToList.push(e.data)),(s=t.sendEmailToList.findIndex((function(t){return t.id==e.data.id})))>-1&&(t.sendEmailToList.splice(s,1),t.sendEmailToList.push(e.data))}}),(function(e){var a=e.response.data.errors,o=Object.keys(a)[0];o&&t.makeToast({title:"Error",message:a[o][0],variant:"danger",duration:3e3})}))}else{this.makeToast({title:"Error",message:"Please select Collaborator Type",variant:"danger"})}},uploadImage:function(){var t=this;if(this.formFields.id){this.toastHider=!0,this.makeToast({title:"Uploading",message:"Uploading file",variant:"success",duration:5e3});var e={collaboration:this.formFields.id,uploaded_from:this.formFields.uploadedFrom},a=new FormData;a.append("image_file",this.formFields.upload_image),a.append("data",JSON.stringify(e)),this.formFields.upload_image=null,(0,h.K)({module:"collaboration/uploadImage"},a,(function(e){if(e.data.errorInfo){t.toastHider=!1,t.$bvToast.hide("collaboration-toast");var a=e.data.errorInfo[e.data.errorInfo.length-1];t.makeToast({title:"Error",message:a,variant:"danger"})}else{t.toastHider=!1,t.$bvToast.hide("collaboration-toast");t.makeToast({title:"Success",message:"File uploaded successfull",variant:"success"}),t.formFields.images.unshift(e.data),t.pushOrderLog(e.data.order_logs),"customers"==t.formFields.uploadedFrom&&(t.customer_message="File has been moved to customer view section",t.customer_image=e.data.path,t.customer_image_name=e.data.name,t.sendCustomerViewMail())}}))}else this.storeCollaboration()},pushOrderLog:function(t){var e,a=this,o=A(t);try{var s=function(){var t=e.value;-1==a.formFields.order_logs.findIndex((function(e){return e.id==t.id}))&&a.formFields.order_logs.push(t)};for(o.s();!(e=o.n()).done;)s()}catch(t){o.e(t)}finally{o.f()}},saveImage:function(t,e){var a=this,o=new FormData;o.append("data",JSON.stringify(t)),(0,h.K)({module:"collaboration/updateImage"},o,(function(o){if(o.data.errorInfo){var s=o.data.errorInfo[o.data.errorInfo.length-1];a.makeToast({title:"Error",message:s,variant:"danger"})}else{if(a.makeToast({title:"Success",message:"Image Updated",variant:"success"}),a.pushOrderLog(o.data.order_logs),!e){t=o.data;var i=a.formFields.images.findIndex((function(e){return e.id==t.id}));a.formFields.images.splice(i,1),a.formFields.images.unshift(t)}}}))},openPreviewNewPage:function(t){window.open(t,"_blank")},handleDropdownChange:function(t){window.detectChanges=!0},addTask:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=new Date,o=[a.getMonth()+1,a.getDate(),a.getFullYear()],s=o[0],i=o[1],r=o[2];if(a="".concat(r,"-").concat(s,"-").concat(i),"collaboration"==t)if(!e||"need approval"!=e.moveTo&&"rejected"!=e.moveTo&&"Waiting On Customer"!=e.moveTo)this.order.collaboration.tasks.push({id:0,date:a,close_date:null,assigned_to:"",task:"",created_by:this.$store.state.auth.user.name?this.$store.state.auth.user.name:"",status:"",dept:"",currentIndex:this.order.collaboration.tasks.length});else{var n="";this.sendEmailToList.length&&(n=this.sendEmailToList[0].first_name+" "+this.sendEmailToList[0].last_name);var l=new Date,c=[l.getMonth()+1,l.getDate(),l.getFullYear()],d=c[0],_=c[1],m=c[2],u={id:0,date:l="".concat(m,"-").concat(d,"-").concat(_),close_date:null,assigned_to:n,task:"A new file has been Uploaded for your review",created_by:this.$store.state.auth.user.name?this.$store.state.auth.user.name:"",status:"",department_id:this.order.department_id};this.order.collaboration.tasks.push(u)}"correspondence"==t&&this.order.correspondence.tasks.push({id:0,date:a,close_date:null,assigned_to:"",task:"",created_by:"",status:"",dept:"",currentIndex:this.order.correspondence.tasks.length})},deleteTask:function(t){var e,a=this,o="collaboration"==t?this.deleteCollaborationTasks:this.deleteCorrespondenceTask,s=A(o);try{var i=function(){var o=e.value;o.id?(0,h._5)({id:o.id,module:t},(function(e){o.element.checked=!1,a.order[t].tasks=a.order[t].tasks.filter((function(t){return t.id!=o.id}))})):(a.order[t].tasks=a.order[t].tasks.filter((function(t){return t.currentIndex!=o.taskKey})),o.taskContainer.remove())};for(s.s();!(e=s.n()).done;)i()}catch(t){s.e(t)}finally{s.f()}o=[],"collaboration"==t?this.deleteCollaborationTasks=[]:this.deleteCorrespondenceTask=[]},deleteLog:function(){var t=this;if(confirm("Do you really want to delete log!!!?")){var e,a=A(this.deleteOrderLog);try{var o=function(){var a=e.value,o={};o.logToDelete=a.id,o.collaboration=t.formFields.id;var s=new FormData;s.append("data",JSON.stringify(o)),(0,h.Vs)({module:t.axiosParams.module,apiURL:"deleteOrderLog"},s,(function(e){a.element.checked=!1,t.formFields.order_logs=t.formFields.order_logs.filter((function(t){return t.id!=a.id}))}))};for(a.s();!(e=a.n()).done;)o()}catch(t){a.e(t)}finally{a.f()}this.deleteOrderLog=[]}},selectRow:function(t){var e="collaboration"==t.type?this.deleteCollaborationTasks:this.deleteCorrespondenceTask,a=t.event.target.parentElement.parentElement;if(t.event.currentTarget.checked)a.style.background="#fff",e.push({id:t.id,element:t.event.currentTarget,taskContainer:a,taskKey:t.currentKey});else{var o=e.findIndex((function(e){return e.id==t.id}));e[o]&&e.splice(o,1),a.style.background="#fff"}},selectOrderLog:function(t){var e=t.event.target.parentElement.parentElement;if(t.event.currentTarget.checked)e.style.background="#fff",this.deleteOrderLog.push({id:t.id,element:t.event.currentTarget,taskContainer:e,taskKey:t.currentKey});else{var a=this.deleteOrderLog.findIndex((function(e){return e.id==t.id}));this.deleteOrderLog[a]&&this.deleteOrderLog.splice(a,1),e.style.background="#fff"}},downloadImage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t="/"+t;var a=document.createElement("a");a.href=t;var o=t.substr(t.lastIndexOf(".")+1);a.download=e.includes(".")?e:e+"."+o;var s={images:"",collaboration:"",_:""};t=t.replace(/images|_|collaboration/gi,(function(t){return s[t]})),document.body.appendChild(a),a.click(),document.body.removeChild(a)},imageToPrint:function(t){return"<html><head><script>function step1(){\nsetTimeout('step2()', 10);}\nfunction step2(){window.print();window.close();}\n<\/script></head><body onload='step1()'> <img src='"+t+"' style='width: 100vw;'>\n</body></html>"},printImage:function(t){var e=window.open("about:blank","_new");e.document.open(),e.document.write(this.imageToPrint(window.location.origin+"/"+t)),e.document.close()},deleteFile:function(t){var e=this;confirm("Do you really want to delete this file!!!?")&&(this.axiosParams.id=t.id,this.axiosParams.method="/deleteFile/",(0,h.nr)(this.axiosParams,(function(a){if(a.data){e.formFields.order_logs.push(a.data);var o=e.formFields.images.findIndex((function(e){return e.id==t.id}));e.formFields.images.splice(o,1)}else e.makeToast({title:"Error",message:a.data,variant:"danger"})})))},moveFile:function(t){if(this.formFields.images.filter((function(e){return e==t.img}))[0].status=t.moveTo,"need approval"==t.moveTo){var e=this.$store.state.auth.user?this.$store.state.auth.user:null;t.img.moved_by=e.name,this.addTask("collaboration",t)}if("approved"==t.moveTo){t.img.user_id=this.$store.state.auth.user.id?this.$store.state.auth.user.id:null,t.img.user=this.$store.state.auth.user?this.$store.state.auth.user:null,t.img.rejected_by&&(t.img.rejected_by=t.img.rejected_by.id);var a=new Date,o=[a.getMonth(),a.getDate(),a.getFullYear()],s=o[0],i=o[1],r=o[2],n=[a.getHours(),a.getMinutes(),a.getSeconds()],l=n[0],c=n[1],d=n[2];t.img.approved_at="".concat(r,"-").concat(s,"-").concat(i," ").concat(l,":").concat(c,":").concat(d)}if("rejected"==t.moveTo){var _=this.$store.state.auth.user?this.$store.state.auth.user:null;t.img.moved_by=_.name,t.img.rejected_by=_.id,this.addTask("collaboration",t)}"customers"==t.moveTo&&(this.customer_message="File has been moved to customer view section",this.customer_image=t.img.path,this.customer_image_name=t.img.name,this.sendCustomerViewMail()),this.saveImage(t.img,!1)},toggleSendToList:function(t,e){if(t)this.sendToList.push(e);else{var a=this.sendToList.findIndex((function(t){return t==e}));this.sendToList.splice(a,1)}},toggleSendEmailToList:function(t,e){if(t)this.sendEmailToList.push(e);else{var a=this.sendEmailToList.findIndex((function(t){return t==e}));this.sendEmailToList.splice(a,1)}},sendMail:function(){var t=this;if(0!=this.sendToList.length){this.toastHider=!0,this.makeToast({title:"Sending",message:"Sending mail...",variant:"success"});var e=this.sendToList,a=this.mailText,o={};o.sendTo=e,o.message=a,o.link=this.uploadLink,o.order=this.order.id,o.collaboration=this.formFields.id;var s=new FormData;s.append("data",JSON.stringify(o)),(0,h.Yb)(this.axiosParams,s,(function(e){t.toastHider=!1,t.$bvToast.hide("collaboration-toast"),"sent"==e.data.status?(t.makeToast({title:"Mail Sent",message:"Mail sent successfully",variant:"success"}),t.formFields.collaborator_mail=e.data.totalRecords,t.getCollaboration(t.formFields.id)):t.makeToast({title:"Error",message:e.data,variant:"danger",duration:5e3})}))}else this.makeToast({title:"Warning",message:"Please select a Collaborator",variant:"warning"})},showCustomerViewMailPopup:function(t){this.customer_email="";for(var e=0;e<this.sendEmailToList.length;e++)this.sendEmailToList[e].email&&(this.customer_email+=this.sendEmailToList[e].email+",");this.customer_message="",this.customer_image=t.path,this.customer_image_name=t.name},isUnapprovedFiles:function(){var t,e=!1,a=A(this.formFields.images);try{for(a.s();!(t=a.n()).done;){"need approval"==t.value.status&&(e=!0)}}catch(t){a.e(t)}finally{a.f()}return e},sendApprovalMail:function(){var t=this;if(0!=this.sendEmailToList.length)if(this.isUnapprovedFiles()){var e,a=A(this.formFields.images);try{var o=function(){var a=e.value;if("need approval"==a.status){t.toastHider=!0,t.makeToast({title:"Sending",message:"Sending mail...",variant:"success"});var o=t.sendEmailToList,s={};s.sendTo=o,s.message="File has been moved to approval section needs approval",s.link=a.path,s.order=t.order.id,s.collaboration=t.formFields.id;var i=new FormData;i.append("data",JSON.stringify(s)),(0,h._w)(t.axiosParams,i,(function(e){if(t.toastHider=!1,t.$bvToast.hide("collaboration-toast"),"sent"==e.data){t.makeToast({title:"Mail Sent",message:"Mail sent successfully For File "+a.name,variant:"success"});var o=a;o.sent_mail=1;var i=new FormData;i.append("data",JSON.stringify(o)),(0,h.K)({module:"collaboration/updateImage"},i,(function(e){if(e.data.errorInfo);else{s=e.data;var a=t.formFields.images.findIndex((function(t){return t.id==s.id}));t.formFields.images.splice(a,1),t.formFields.images.unshift(s),t.getCollaboration(t.formFields.id)}}))}else t.makeToast({title:"Error",message:e.data,variant:"danger",duration:5e3})}))}};for(a.s();!(e=a.n()).done;)o()}catch(t){a.e(t)}finally{a.f()}}else this.makeToast({title:"Warning",message:"No Unapproved File Listed",variant:"warning"});else this.makeToast({title:"Warning",message:"Please Select a collaborator",variant:"warning"})},sendCustomerViewMail:function(){var t=this;if(0!=this.sendEmailToList.length){this.toastHider=!0,this.makeToast({title:"Sending",message:"Sending mail...",variant:"success"});var e=this.sendEmailToList,a=this.customer_message,o={};o.sendTo=e,o.message=a,o.link=this.customer_image,o.order=this.order.id,o.collaboration=this.formFields.id;var s=new FormData;s.append("data",JSON.stringify(o)),(0,h.Hs)(this.axiosParams,s,(function(e){t.toastHider=!1,t.$bvToast.hide("collaboration-toast"),"sent"==e.data?t.makeToast({title:"Mail Sent",message:"Mail sent successfully",variant:"success"}):t.makeToast({title:"Error",message:e.data,variant:"danger",duration:5e3})}))}else this.makeToast({title:"Warning",message:"Please Select a Collaborator",variant:"warning"})},first:function(){var t=this;(0,h.UJ)(this.axiosParams,(function(e){Object.keys(e.data).length>0&&(t.sortItemByDate(e.data.order_logs),t.sortOneCollection(e.data),t.formFields=e.data,t.formFields.collaborators=e.data.collaborator_checks,t.$store.state[t.axiosParams.module].currentRecord=t.formFields,t.$store.getters.changedCompositePrice(t.formFields.order.products),t.showCompositeProductDetails()),t.$store.state[t.axiosParams.module].busy=!1}),(function(e){console.log(e),t.makeToast({title:"Error",message:e,variant:"danger",duration:3e3})}))},last:function(){var t=this;(0,h.EK)(this.axiosParams,(function(e){Object.keys(e.data).length>0&&(t.sortItemByDate(e.data.order_logs),t.sortOneCollection(e.data),t.formFields=e.data,t.formFields.collaborators=e.data.collaborator_checks,t.$store.state[t.axiosParams.module].currentRecord=t.formFields,t.$store.getters.changedCompositePrice(t.formFields.order.products),t.showCompositeProductDetails()),t.$store.state[t.axiosParams.module].busy=!1}),(function(e){console.log(e),t.makeToast({title:"Error",message:e,variant:"danger",duration:3e3})}))},next:function(t){var e=this;this.axiosParams.id=t,(0,h.WH)(this.axiosParams,(function(t){Object.keys(t.data).length>0&&(e.sortItemByDate(t.data.order_logs),e.sortOneCollection(t.data),e.formFields=t.data,e.formFields.collaborators=t.data.collaborator_checks,e.$store.state[e.axiosParams.module].currentRecord=e.formFields,e.$store.getters.changedCompositePrice(e.formFields.order.products),e.showCompositeProductDetails()),e.$store.state[e.axiosParams.module].busy=!1}),(function(t){console.log(t),e.makeToast({title:"Error",message:t,variant:"danger",duration:3e3})}))},prev:function(t){var e=this;this.axiosParams.id=t,(0,h.Cq)(this.axiosParams,(function(t){Object.keys(t.data).length>0&&(e.sortItemByDate(t.data.order_logs),e.sortOneCollection(t.data),e.formFields=t.data,e.formFields.collaborators=t.data.collaborator_checks,e.$store.state[e.axiosParams.module].currentRecord=e.formFields,e.$store.getters.changedCompositePrice(e.formFields.order.products),e.showCompositeProductDetails()),e.$store.state[e.axiosParams.module].busy=!1}),(function(t){console.log(t),e.makeToast({title:"Error",message:t,variant:"danger",duration:3e3})}))},printPDF:function(){i.Y.$emit(i.B.PRINT_PDF)},clearForm:function(){window.detectChanges&&!confirm("You have unsaved changes. Are you sure you want to navigate away?")?this.$store.state[this.axiosParams.module].busy=!1:window.detectChanges=!1,window.detectChanges||(this.formFields={id:0,collaborators:[],images:[]},this.$store.state[this.axiosParams.module].currentRecord=[])},makeToast:function(t){this.$bvToast.toast(t.message,{id:"collaboration-toast",title:t.title,variant:t.variant,toaster:"b-toaster-top-center",autoHideDelay:t.duration?t.duration:2e3,noAutoHide:this.toastHider,noCloseButton:!0}),this.saveDisabled=!1},customizeLabel:function(t){var e,a=t.split("_");for(e=0;e<a.length;e++)a[e]=a[e].charAt(0).toUpperCase()+a[e].slice(1);return a.join(" ")},getTaskStatusRow:function(t){t.event.target.parentElement.parentElement},paperLocationLabel:function(t){var e,a="Select",o=A(this.$store.state.paperLocation.recordList);try{for(o.s();!(e=o.n()).done;){var s=e.value;s.id==t&&(a=s.location_title)}}catch(t){o.e(t)}finally{o.f()}return a},departmentLabel:function(t){var e,a="Select",o=A(this.$store.state.department.recordList);try{for(o.s();!(e=o.n()).done;){var s=e.value;s.id==t&&(a=s.title)}}catch(t){o.e(t)}finally{o.f()}return a},orderStatusLabel:function(t){var e,a="select",o=A(this.$store.state.orderStatus.recordList);try{for(o.s();!(e=o.n()).done;){var s=e.value;s.id==t&&(a=s.title)}}catch(t){o.e(t)}finally{o.f()}return a},setValidDays:function(t){this.formFields.mail_remainder_days=parseInt(t)<1||parseInt(t)>30?this.formFields.mail_remainder_days=1:this.formFields.mail_remainder_days},toggleIcon:function(t){return t?"fa fa-angle-down":"fa fa-angle-right"},checkDate:function(t){return(0,T.HE)(t)},closeDateChanged:function(t,e){return""!=t&&(this.order.collaboration.tasks[e].status="Complete"),this.checkDate(t)},isApprovalNeeded:function(t){t.is_approval_check=t.approval_needed,this.saveImage(t,!1)},neededApprovalMail:function(t){var e=this,a=this.formFields.collaborators.findIndex((function(t){return!0===t.is_custom}));if(this.formFields.collaborators[a]&&this.formFields.collaborators[a].email){var o=[];o.push(this.formFields.collaborators[a]);var s={};s.sendTo=o,s.message="File has been moved to approval section needs approval",s.link=t.path,s.redirect=!1,s.order=this.order.id,s.collaboration=this.formFields.id;var i=new FormData;i.append("data",JSON.stringify(s)),(0,h._w)(this.axiosParams,i,(function(a){"sent"==a.data?e.makeToast({title:"Mail Sent",message:"Mail sent successfully For File "+t.name,variant:"success"}):e.makeToast({title:"Error",message:a.data,variant:"danger",duration:5e3})}))}else this.makeToast({title:"Error",message:"Please add customer email to send mail",variant:"danger"})},checkFileType:function(t){var e=t.substr(t.lastIndexOf(".")+1);return this.docLwpPdfAiTypes.indexOf(e)>-1},isAdmin:function(){return"Admin"==this.$store.getters.isAdmin}}},y=I;var N=a(57115),P={insert:"head",singleton:!1};_()(N.Z,P);N.Z.locals;const x=(0,E.Z)(y,(function(){var t,e=this,a=e._self._c;return a("div",{class:e.hideInModal?" custom-modal-margin":"bg-order"},[e.hideInModal?e._e():a("div",[a("h5",{staticClass:"mx-2 my-1 custom-view-heading"},[e._v(" "+e._s(e.formFields.id?"Edit":"Add")+" Collaboration")]),e._v(" "),a("div",{staticClass:"bg-toolbar my-2 p-1"},[a("Toolbar",{attrs:{id:e.formFields.id,saveDisabled:e.saveDisabled}})],1)]),e._v(" "),a("div",{staticClass:"col-md-12 custom-margin pr-1 my-2"},[a("form",[e.isLoading?[a("div",{staticClass:"text-center text-info my-2"},[a("b-spinner",{staticClass:"align-middle"}),e._v(" "),a("strong",[e._v("Loading...")])],1)]:[a("div",{staticClass:"custom-row"},[a("div",[a("label",[e._v("Order Status")]),e._v(" "),a("b-form-select",{staticClass:"form-control form-control-sm custom-caret-form b-select-width",attrs:{disabled:e.hideInModal,options:e.orderStatusList,name:"collaboration[order_status_id]",size:"sm"},on:{change:function(t){return e.checkOrderStatus(e.order.order_status_id)}},scopedSlots:e._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[e._v("Select")])]},proxy:!0}]),model:{value:e.order.order_status_id,callback:function(t){e.$set(e.order,"order_status_id",t)},expression:"order.order_status_id"}})],1),e._v(" "),a("div",[a("label",[e._v("Paper Location")]),e._v(" "),a("b-form-select",{staticClass:"form-control form-control-sm custom-caret-form paper-select-width",attrs:{disabled:e.hideInModal,options:e.paperLocationList,name:"collaboration[order_status_id]",size:"sm"},on:{change:function(t){return e.paperLocationLabel(e.order.paper_location_id)}},scopedSlots:e._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[e._v("Select")])]},proxy:!0}]),model:{value:e.order.paper_location_id,callback:function(t){e.$set(e.order,"paper_location_id",t)},expression:"order.paper_location_id"}})],1),e._v(" "),a("div",[a("label",[e._v("Order On Hold")]),e._v(" "),a("b-form-input",{staticClass:"input-md bg-order",attrs:{disabled:e.hideInModal,name:"order_on_hold",size:"sm",type:"text"},model:{value:e.order.on_hold,callback:function(t){e.$set(e.order,"on_hold",t)},expression:"order.on_hold"}})],1),e._v(" "),a("div",[a("label",[e._v("Order On Hold Description")]),e._v(" "),a("b-form-input",{staticClass:"input-xxl bg-order",attrs:{disabled:e.hideInModal,name:"order_on_hold_description",size:"sm",type:"text"},model:{value:e.order.on_hold_description,callback:function(t){e.$set(e.order,"on_hold_description",t)},expression:"order.on_hold_description"}})],1)]),e._v(" "),a("div",{staticClass:"custom-row"},[a("div",{staticClass:"col-6 px-0 flex-column"},[e.isClient?e._e():a("div",{staticClass:"flex-column div-shadow bg-white rounded mr-3"},[a("div",{staticClass:"flex-column p-0"},[a("div",{staticClass:"bg-toolbar mt-4 px-3"},[a("b-form-group",{staticClass:"mb-0 custom-radio-and-checkbox text-nowrap overflow-auto"},[a("b-form-radio-group",{attrs:{options:e.collaboratorTypeNavList},model:{value:e.selectedCollaboratorAdd,callback:function(t){e.selectedCollaboratorAdd=t},expression:"selectedCollaboratorAdd"}})],1)],1),e._v(" "),a("div",{staticClass:"flex-column",attrs:{height:"1850px"}},[a("div",{staticClass:"flex-column mt-2 mx-2"},[a("b-button",{class:e.visibleAddCollaborator?"btn-sm bg-white text-dark py-0 text-left border":"btn-sm py-0 bg-white text-dark text-left border collapsed",attrs:{"aria-expanded":e.visibleAddCollaborator?"true":"false",disabled:e.hideInModal,"aria-controls":"collapse-collaborator"},on:{click:function(t){e.visibleAddCollaborator=!e.visibleAddCollaborator}}},[a("i",{class:e.toggleIcon(e.visibleAddCollaborator)}),e._v(" Click to Add\n                                            Collaborators\n                                        ")]),e._v(" "),a("b-collapse",{staticClass:"border",attrs:{id:"collapse-collaborator"},model:{value:e.visibleAddCollaborator,callback:function(t){e.visibleAddCollaborator=t},expression:"visibleAddCollaborator"}},[a("div",{staticClass:"flex-column flex-grow-1"},[a("div",{staticClass:"d-block"},[e._l(e.collaboratorList.add,(function(t,i){return[a("div",{key:t.id,staticClass:"d-flex"},[a("b-form-checkbox",{staticClass:"mx-2",attrs:{value:1},model:{value:t.is_box_checked,callback:function(a){e.$set(t,"is_box_checked",a)},expression:"item.is_box_checked"}},[t.type?a("b",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"".concat(t.type.title)}},[e._v("\n                                                                "+e._s(t.type.title.charAt(0)))]):e._e(),e._v(" - "+e._s(t.first_name)+" "+e._s(t.last_name?"".concat(t.last_name):"")+"\n                                                                "+e._s(t.email?"| ".concat(t.email):"")+"\n                                                            ")]),e._v(" "),t.is_custom?e._e():a("button",{staticClass:"btn btn-sm p-0 font-italic edit-btn ml-n1 mt-0",attrs:{"aria-controls":"collapse-new-collaborator","aria-expanded":"true",type:"button"},on:{click:function(a){e.collaborator=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t),e.visibleNewCollaborator=!0}}},[e._v("(edit)\n                                                            ")])],1)]}))],2),e._v(" "),a("div",{staticClass:"bg-toolbar"},[a("b-button",{class:e.visibleNewCollaborator?"btn-sm list-toolbar py-0 border-0 text-left flex-grow-1":"btn-sm list-toolbar py-0 border-0 text-left flex-grow-1 collapsed",attrs:{"aria-expanded":e.visibleNewCollaborator?"true":"false","aria-controls":"collapse-new-collaborator"},on:{click:function(t){e.visibleNewCollaborator=!e.visibleNewCollaborator,e.collaborator={id:0,type_id:e.collaboratorTypeList[0].value}}}},[a("i",{class:e.toggleIcon(e.visibleNewCollaborator)}),e._v("\n                                                        Click to add New Collaborator\n                                                    ")])],1),e._v(" "),a("b-collapse",{staticClass:"mt-2 mx-n4",attrs:{id:"collapse-new-collaborator"},model:{value:e.visibleNewCollaborator,callback:function(t){e.visibleNewCollaborator=t},expression:"visibleNewCollaborator"}},[a("div",{staticClass:"custom-row d-block col-12 px-2"},[a("div",{staticClass:"d-flex my-2 col-12"},[a("div",{staticClass:"col-6"},[a("label",{staticClass:"col-3 p-0"},[e._v("First Name")]),e._v(" "),a("b-form-input",{attrs:{type:"text"},model:{value:e.collaborator.first_name,callback:function(t){e.$set(e.collaborator,"first_name",t)},expression:"collaborator.first_name"}})],1),e._v(" "),a("div",{staticClass:"col-6"},[a("label",{staticClass:"col-3 p-0"},[e._v("Last Name")]),e._v(" "),a("b-form-input",{attrs:{type:"text"},model:{value:e.collaborator.last_name,callback:function(t){e.$set(e.collaborator,"last_name",t)},expression:"collaborator.last_name"}})],1)]),e._v(" "),a("div",{staticClass:"d-flex my-2 col-12"},[a("div",{staticClass:"col-12"},[a("label",{staticClass:"col-1 p-0"},[e._v("Email")]),e._v(" "),a("b-form-input",{staticStyle:{"margin-left":"1.25rem !important"},attrs:{type:"text"},model:{value:e.collaborator.email,callback:function(t){e.$set(e.collaborator,"email",t)},expression:"collaborator.email"}})],1)]),e._v(" "),a("div",{staticClass:"d-flex my-2 col-12"},[a("div",{staticClass:"col-6"},[a("label",{staticClass:"col-3 p-0"},[e._v("Phone")]),e._v(" "),a("b-form-input",{staticClass:"margin-left-neg",attrs:{type:"text"},model:{value:e.collaborator.phone,callback:function(t){e.$set(e.collaborator,"phone",t)},expression:"collaborator.phone"}})],1),e._v(" "),a("div",{staticClass:"col-6"},[a("label",{staticClass:"col-3"},[e._v("Type")]),e._v(" "),a("b-dropdown",{staticClass:"border rounded flex-grow-1 input-lg dropdown-width",attrs:{disabled:e.hideInModal,"no-caret":"",size:"sm",variant:"none"},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("div",{staticClass:"d-flex"},[a("small",[e._v(e._s(e.collaborator.type_id?e.collaboratorTypeList.filter((function(t){return t.value==e.collaborator.type_id}))[0].text:"Select")+"\n                                                                            ")]),e._v(" "),a("i",{staticClass:"fa fa-caret-down ml-auto",attrs:{"aria-hidden":"true"}})])]},proxy:!0}],null,!1,2668946700)},[e._v(" "),a("b-dropdown-group",{staticClass:"overflow-auto px-1"},[e._l(e.collaboratorTypeList,(function(t){return[a("b-dropdown-group",[a("b-dropdown-item-button",{staticClass:"small",on:{click:function(a){e.collaborator.type_id=t.value}}},[e._v("\n                                                                                    "+e._s(t.text)+"\n                                                                                ")])],1)]}))],2)],1)],1)]),e._v(" "),a("div",{staticClass:"my-2 justify-content-center"},[a("div",[a("button",{staticClass:"btn-info mx-1 custom-infobtn-toolbar custom-infobtn-text",attrs:{type:"button"},on:{click:e.saveCollaborator}},[e._v("Save\n                                                                ")])])])])])],1)])],1),e._v(" "),a("div",{staticClass:"justify-content-center height-200",class:e.visibleAddCollaborator?"showEmailSection":"hideEmailSection"},[a("h2",{staticClass:"mt-5"},[e._v("E-mails")])]),e._v(" "),a("div",{staticClass:"flex-column mt-2 mx-2",class:e.visibleAddCollaborator?"hideEmailSection":"showEmailSection"},[a("b-table",{staticClass:"small",attrs:{fields:e.collaboratorEmailFields,items:e.formFields.collaborator_mail,bordered:"",responsive:"",small:""},scopedSlots:e._u([{key:"cell(date)",fn:function(t){return[[a("label",{staticClass:"d-flex collaborator-mail-sent-table"},[e._v(e._s(e.changeDateFormat(t.item.date)))])]]}},{key:"cell(sent_by)",fn:function(t){return[a("label",{staticClass:"d-flex collaborator-mail-sent-table"},[e._v(e._s(t.item.sent_by))])]}},{key:"cell(send_to)",fn:function(t){return[a("label",{staticClass:"d-flex collaborator-mail-sent-table"},[e._v(e._s(t.item.send_to))])]}},{key:"cell(content)",fn:function(t){return[a("label",{staticClass:"d-flex collaborator-mail-sent-table mail-content-white-space"},[e._v(e._s(t.item.content))])]}},{key:"cell(attachment)",fn:function(t){return[a("label",{staticClass:"d-flex collaborator-mail-sent-table"},[e._v(" "+e._s(1==t.item.attachment?"Yes":"No"))])]}}],null,!1,1033720738)})],1)])])]),e._v(" "),e.isClient||e.hideInModal?e._e():a("div",{staticClass:"my-3 mr-3"},[e._m(0),e._v(" "),a("div",{staticClass:"flex-column flex-grow-1"},[a("b-button",{class:e.visibleEmail?"btn btn-sm bg-white text-dark text-left border":"btn btn-sm  bg-white text-dark text-left border collapsed",attrs:{"aria-expanded":e.visibleEmail?"true":"false","aria-controls":"collapse-email"},on:{click:function(t){e.visibleEmail=!e.visibleEmail}}},[a("i",{class:e.toggleIcon(e.visibleEmail)}),e._v(" Click here to Email to Collaborators\n                                ")]),e._v(" "),a("b-collapse",{staticClass:"flex-column border rounded bg-white",attrs:{id:"collapse-email"},model:{value:e.visibleEmail,callback:function(t){e.visibleEmail=t},expression:"visibleEmail"}},[a("div",{staticClass:"flex-column"},[a("div",{staticClass:"bg-toolbar"},[a("b-form-group",{staticClass:"mb-0 custom-radio-and-checkbox text-nowrap overflow-auto",staticStyle:{width:"601px"}},[a("b-form-radio-group",{attrs:{options:e.collaboratorTypeNavList},model:{value:e.selectedCollaboratorEmail,callback:function(t){e.selectedCollaboratorEmail=t},expression:"selectedCollaboratorEmail"}})],1)],1),e._v(" "),a("div",{staticClass:"my-2 flex-wrap"},[e._l(e.collaboratorList.email,(function(t){return[a("b-form-checkbox",{staticClass:"mx-2",attrs:{value:t},model:{value:e.sendToList,callback:function(t){e.sendToList=t},expression:"sendToList"}},[e._v("\n                                                    "+e._s(t.first_name)+"\n                                                ")])]}))],2),e._v(" "),a("div",{staticClass:"d-flex my-2"},[a("b-form-textarea",{staticClass:"mx-2",attrs:{"no-resize":"",placeholder:"Type in your message and inform what image customer have to upload",rows:"3",size:"sm"},model:{value:e.mailText,callback:function(t){e.mailText=t},expression:"mailText"}})],1),e._v(" "),a("div",{staticClass:"d-flex my-2"},[a("b-form-checkbox",{staticClass:"mx-2",model:{value:e.uploadLink,callback:function(t){e.uploadLink=t},expression:"uploadLink"}},[e._v("Include Upload Link\n                                            ")]),e._v(" "),a("button",{staticClass:"btn-info custom-infobtn-toolbar custom-infobtn-text w-auto mx-2 px-3",attrs:{type:"button"},on:{click:function(t){return e.sendMail()}}},[e._v("\n                                                Send E-Mail / Upload\n                                            ")])],1)])])],1)]),e._v(" "),e.isClient?e._e():a("div",{staticClass:"my-3 mr-3"},[e._m(1),e._v(" "),a("div",{staticClass:"flex-column flex-grow-1"},[a("b-button",{class:e.visibleUploadFiles?"btn btn-sm bg-white text-dark text-left border":"btn btn-sm  bg-white text-dark text-left border collapsed",attrs:{"aria-expanded":e.visibleUploadFiles?"true":"false","aria-controls":"collapse-upload-file"},on:{click:function(t){e.visibleUploadFiles=!e.visibleUploadFiles}}},[a("i",{class:e.toggleIcon(e.visibleUploadFiles)}),e._v(" Click here to open or close the\n                                    file upload\n                                    section\n                                ")]),e._v(" "),a("b-collapse",{staticClass:"flex-column border rounded bg-white",attrs:{id:"collapse-upload-file"},model:{value:e.visibleUploadFiles,callback:function(t){e.visibleUploadFiles=t},expression:"visibleUploadFiles"}},[a("div",{staticClass:"flex-column"},[e.hideInModal?e._e():a("div",{staticClass:"bg-toolbar p-1"},[a("button",{directives:[{name:"b-modal",rawName:"v-b-modal.file-upload-modal",modifiers:{"file-upload-modal":!0}}],staticClass:"btn btn-sm border-0 list-toolbar custom-edit-text",attrs:{disabled:e.hideInModal,type:"button"},on:{click:function(t){e.formFields.uploadedFrom="uploads"}}},[e._v("Add Files\n                                            ")])]),e._v(" "),e._l(e.collaborationImages.uploadedImages,(function(t,o){return a("div",{staticClass:"my-2 mx-4"},[e.checkFileType(t.path)?[a("div",{staticClass:"flex-column border mx-1 mb-2 py-1 custom-image justify-content-center file-container"},[a("i",{staticClass:"fa fa-file fa-2x m-auto",staticStyle:{cursor:"pointer"},on:{click:function(a){return e.openPreviewNewPage(t.path)}}}),e._v(" "),a("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-center",staticStyle:{cursor:"pointer"},attrs:{title:"".concat(t.name)},on:{click:function(a){return e.openPreviewNewPage(t.path)}}},[e._v("\n                                                        "+e._s(t.name.length>10?t.name.substr(0,10)+"...":t.name))])])]:[a("img",{staticClass:"border mx-1 p-1 rounded custom-image",staticStyle:{cursor:"pointer"},attrs:{src:"/".concat(t.path)},on:{click:function(a){return e.openPreviewNewPage(t.path)}}})],e._v(" "),a("div",{staticClass:"flex-column mt-1"},[a("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"font-weight-bold custom-label customMarginUploadedFirst",attrs:{title:"".concat(t.name)}},[e._v(e._s(t.name.length>20?t.name.substring(0,13)+"..."+t.name.substring(t.name.length-7):t.name))]),e._v(" "),a("label",{staticClass:"text-info custom-label customMarginUploaded"},[e._v(e._s(t.size))]),e._v(" "),a("label",{staticClass:"text-info custom-label customMarginUploaded"},[e._v(e._s(t.custom_created_at))]),e._v(" "),a("label",{staticClass:"font-weight-bold custom-label customMarginUploaded"},[e._v(e._s(t.uploaded_by))]),e._v(" "),a("div",[e.checkFileType(t.path)?e._e():[a("button",{staticClass:"btn btn-sm my-1 bg-white",attrs:{type:"button"},on:{click:function(a){return e.printImage(t.path),!1}}},[a("i",{staticClass:"fa fa-print fa-lg"})])],e._v(" "),a("button",{staticClass:"btn btn-sm my-1 bg-white",class:e.checkFileType(t.path)?"":"ml-n2",attrs:{type:"button"},on:{click:function(a){return e.downloadImage(t.path,t.name)}}},[a("i",{staticClass:"fa fa-arrow-circle-down fa-lg"})])],2)]),e._v(" "),e.hideInModal?e._e():a("div",{staticClass:"flex-column ml-auto"},[a("button",{staticClass:"btn-info w-100 my-1 custom-infobtn-toolbar custom-infobtn-text",attrs:{type:"button"},on:{click:function(a){return e.moveFile({moveTo:"need approval",img:t})}}},[e._v("Move to\n                                                    Approval\n                                                ")]),e._v(" "),a("button",{staticClass:"btn-info w-100 my-1 custom-infobtn-toolbar custom-infobtn-text",attrs:{type:"button"},on:{click:function(a){return e.moveFile({moveTo:"customers",img:t})}}},[e._v("Move to\n                                                    Customer\n                                                ")]),e._v(" "),a("button",{staticClass:"btn-info w-100 my-1 custom-infobtn-toolbar custom-infobtn-text",attrs:{type:"button"},on:{click:function(a){return e.deleteFile(t)}}},[e._v("Remove File\n                                                ")])])],2)}))],2)])],1)]),e._v(" "),e.isClient?e._e():a("div",{staticClass:"my-3 mr-3"},[e._m(2),e._v(" "),a("div",{staticClass:"flex-column flex-grow-1"},[a("b-button",{class:e.visibleApprovals?"btn btn-sm bg-white text-dark  text-left border":"btn btn-sm  bg-white text-dark text-left border collapsed",attrs:{"aria-expanded":e.visibleApprovals?"true":"false","aria-controls":"collapse-approval"},on:{click:function(t){e.visibleApprovals=!e.visibleApprovals}}},[a("i",{class:e.toggleIcon(e.visibleApprovals)}),e._v(" Click here to open or close the\n                                    approval section\n                                ")]),e._v(" "),a("b-collapse",{attrs:{id:"collapse-approval"},model:{value:e.visibleApprovals,callback:function(t){e.visibleApprovals=t},expression:"visibleApprovals"}},[a("div",{staticClass:"flex-column flex-grow-1 border rounded bg-white"},[e.hideInModal?e._e():a("div",{staticClass:"bg-toolbar p-1"},[a("button",{directives:[{name:"b-modal",rawName:"v-b-modal.file-upload-modal",modifiers:{"file-upload-modal":!0}}],staticClass:"btn btn-sm border-0 list-toolbar custom-edit-text",attrs:{type:"button"},on:{click:function(t){e.formFields.uploadedFrom="need approval"}}},[e._v("Add Files\n                                            ")]),e._v(" "),a("button",{staticClass:"btn btn-sm border-0 list-toolbar custom-edit-text",attrs:{type:"button"},on:{click:e.sendApprovalMail}},[e._v(e._s(e.checkMailSent?"Resend":"Send")+" Customer Email(s)\n                                            ")]),e._v(" "),a("button",{staticClass:"btn btn-sm border-0 list-toolbar custom-edit-text",attrs:{type:"button"},on:{click:e.printPDF}},[e._v("Print Approval Confirmation\n                                            ")])]),e._v(" "),a("div",{staticClass:"my-2"},[a("label",[e._v("Send a reminder to this client every"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formFields.mail_remainder_days,expression:"formFields.mail_remainder_days"}],staticClass:"mx-1",staticStyle:{border:"1px solid #000 !important","font-size":"20px",width:"3rem"},attrs:{disabled:e.hideInModal,max:30,min:1,type:"number"},domProps:{value:e.formFields.mail_remainder_days},on:{change:function(t){return e.setValidDays(e.formFields.mail_remainder_days)},input:function(t){t.target.composing||e.$set(e.formFields,"mail_remainder_days",t.target.value)}}}),e._v(" days")])]),e._v(" "),a("div",{staticClass:"flex-column px-1 pb-1"},[e._l(e.collaborationImages.needApprovalImages,(function(t,o){return a("div",{staticClass:"flex-column p-0 my-2 py-1 div-border"},[a("div",[e.hideInModal?e._e():a("div",{staticClass:"btn-close mx-1 justify-content-center"},[a("button",{staticClass:"btn btn-sm text-white p-0",attrs:{type:"button"},on:{click:function(a){return e.deleteFile(t)}}},[e._v("X")])]),e._v(" "),a("div",{staticClass:"flex-column flex-grow-1 text-center"},[a("label",{staticClass:"font-weight-bold"},[e._v("Unviewed by customer")]),e._v(" "),a("label",{staticClass:"text-info"},[e._v("Email "+e._s(0==t.sent_mail?"not sent":"sent")+" to collaborator(s)")]),e._v(" "),a("label",{staticClass:"text-info"},[e._v("Moved by "+e._s(t.moved_by))])])]),e._v(" "),a("div",[a("div",{staticClass:"flex-column mx-2"},[a("div",{staticClass:"d-flex"},[e.checkFileType(t.path)?[a("div",{staticClass:"flex-column border mx-1 mb-2 py-1 custom-image justify-content-center file-container"},[a("i",{staticClass:"fa fa-file fa-2x m-auto",staticStyle:{cursor:"pointer"},on:{click:function(a){return e.openPreviewNewPage(t.path)}}}),e._v(" "),a("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-center",staticStyle:{cursor:"pointer"},attrs:{title:"".concat(t.name)},on:{click:function(a){return e.openPreviewNewPage(t.path)}}},[e._v("\n                                                                        "+e._s(t.name.length>10?t.name.substr(0,10)+"...":t.name))])])]:[a("img",{staticClass:"mx-1 border p-1 rounded my-1 custom-image",staticStyle:{cursor:"pointer"},attrs:{src:"/".concat(t.path)},on:{click:function(a){return e.openPreviewNewPage(t.path)}}})],e._v(" "),a("div",{staticClass:"flex-column mt-1"},[a("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"font-weight-bold custom-label customMarginUploadedFirst",attrs:{title:"".concat(t.name)}},[e._v(e._s(t.name.length>20?t.name.substring(0,13)+"..."+t.name.substring(t.name.length-7):t.name))]),e._v(" "),a("label",{staticClass:"text-info custom-label customMarginUploaded"},[e._v(e._s(t.size))]),e._v(" "),a("label",{staticClass:"text-info custom-label customMarginUploaded"},[e._v(e._s(t.custom_created_at))]),e._v(" "),a("label",{staticClass:"custom-label customMarginUploaded"},[e._v(e._s(t.uploaded_by))]),e._v(" "),a("div",[e.checkFileType(t.path)?e._e():[a("button",{staticClass:"btn btn-sm my-1 bg-white",attrs:{type:"button"},on:{click:function(a){return e.printImage(t.path),!1}}},[a("i",{staticClass:"fa fa-print fa-lg"})])],e._v(" "),a("button",{staticClass:"btn btn-sm my-1 bg-white",class:e.checkFileType(t.path)?"":"ml-n2",attrs:{type:"button"},on:{click:function(a){return e.downloadImage(t.path,t.name)}}},[a("i",{staticClass:"fa fa-arrow-circle-down fa-lg"})])],2)])],2),e._v(" "),a("div",{staticClass:"flex-column flex-wrap"},[e.hideInModal?e._e():a("div",{staticClass:"flex-column"},[a("label",{staticClass:"font-weight-bold"},[e._v("Rendering notes for customer:")]),e._v(" "),a("button",{staticClass:"btn btn-sm p-0 font-italic text-left ml-1 edit-btn-hover",attrs:{type:"button"},on:{click:function(a){return e.$set(t,"approval_needed",!t.approval_needed)}}},[e._v("(edit)")]),e._v(" "),t.notes?a("textarea",{staticClass:"font-italic wrap-text ml-2",attrs:{readonly:"",rows:"3"}},[e._v(e._s(t.notes))]):e._e()])])]),e._v(" "),e.hideInModal?e._e():a("div",{staticClass:"flex-column ml-5 mx-3"},[a("b-form-checkbox",{staticClass:"mx-2 custom-radio-and-checkbox",attrs:{checked:t.approval_needed?t.approval_needed:"notTure",id:"approval_needed_"+t.id,value:t.approval_needed?t.approval_needed:"false",plain:""},on:{change:function(a){e.$set(t,"approval_needed",a),e.isApprovalNeeded(t)}}},[e._v("Approval Needed\n                                                        ")]),e._v(" "),t.approval_needed?a("div",{staticClass:"flex-column"},[a("label",{staticClass:"mx-0 my-1"},[e._v("Notes:")]),e._v(" "),a("b-form-textarea",{staticClass:"mx-0",attrs:{"no-resize":"",size:"sm"},model:{value:t.notes,callback:function(a){e.$set(t,"notes",a)},expression:"img.notes"}}),e._v(" "),e.hideInModal?e._e():a("div",{staticClass:"justify-content-center"},[a("button",{staticClass:"btn btn-sm p-0 save-hover-bold",attrs:{type:"button"},on:{click:function(a){return e.saveImage({id:t.id,notes:t.notes},!0)}}},[e._v("Save")]),e._v(" "),a("button",{staticClass:"btn btn-sm cancel-btn-hover-bold",attrs:{type:"button"},on:{click:function(a){return e.$set(t,"approval_needed",!1)}}},[e._v("Cancel")])]),e._v(" "),a("button",{staticClass:"btn-info w-100 my-1 custom-infobtn-toolbar custom-infobtn-text",attrs:{type:"button"},on:{click:function(a){return e.moveFile({moveTo:"approved",img:t})}}},[e._v("Accept for Customer")]),e._v(" "),a("button",{staticClass:"btn-info w-100 my-1 custom-infobtn-toolbar custom-infobtn-text",attrs:{type:"button"},on:{click:function(t){}}},[e._v("Reject for Customer")]),e._v(" "),a("button",{staticClass:"btn-info w-100 my-1 custom-infobtn-toolbar custom-infobtn-text",attrs:{type:"button"},on:{click:function(a){return e.neededApprovalMail(t)}}},[e._v("Send In Email")])],1):e._e()],1)])])})),e._v(" "),e._l(e.collaborationImages.approvedImages,(function(t,o){return a("div",{staticClass:"flex-column p-0 my-2 py-1 div-border"},[a("div",[e.hideInModal?e._e():a("div",{staticClass:"btn-close mx-1 justify-content-center"},[a("button",{staticClass:"btn btn-sm text-white p-0",attrs:{type:"button"},on:{click:function(a){return e.deleteFile(t)}}},[e._v("X")])]),e._v(" "),a("div",{staticClass:"flex-column flex-grow-1 text-center"},[a("label",{staticClass:"font-weight-bold text-primary"},[e._v("Approved by "+e._s(t.user?t.user.name:e.username))]),e._v(" "),a("label",{staticClass:"text-info"},[e._v("Admin note:")]),e._v(" "),a("label",{staticClass:"text-info"},[e._v(e._s(t.custom_approved_at))]),e._v(" "),a("label",[e._v("Acknowledged by "+e._s(t.user?t.user.name:e.username)+" @ "+e._s(t.custom_approved_at))])])]),e._v(" "),a("div",[a("div",{staticClass:"flex-column mx-2"},[a("div",{staticClass:"d-flex"},[e.checkFileType(t.path)?[a("div",{staticClass:"flex-column border mx-1 mb-2 py-1 custom-image justify-content-center file-container"},[a("i",{staticClass:"fa fa-file fa-2x m-auto",staticStyle:{cursor:"pointer"},on:{click:function(a){return e.openPreviewNewPage(t.path)}}}),e._v(" "),a("label",{staticClass:"text-center",staticStyle:{cursor:"pointer"},on:{click:function(a){return e.openPreviewNewPage(t.path)}}},[e._v("\n                                                                        "+e._s(t.name.length>10?t.name.substr(0,10)+"...":t.name))])])]:[a("img",{staticClass:"mx-1 border p-1 rounded my-1 custom-image",staticStyle:{cursor:"pointer"},attrs:{src:"/".concat(t.path)},on:{click:function(a){return e.openPreviewNewPage(t.path)}}})],e._v(" "),a("div",{staticClass:"flex-column mt-1"},[a("label",{staticClass:"font-weight-bold custom-label customMarginUploadedFirst"},[e._v(e._s(t.name.length>20?t.name.substring(0,20)+"...":t.name))]),e._v(" "),a("label",{staticClass:"text-info custom-label customMarginUploaded"},[e._v(e._s(t.size))]),e._v(" "),a("label",{staticClass:"text-info custom-label customMarginUploaded"},[e._v(e._s(t.custom_created_at))]),e._v(" "),a("label",{staticClass:"custom-label customMarginUploaded"},[e._v(e._s(t.uploaded_by))]),e._v(" "),a("div",[e.checkFileType(t.path)?e._e():[a("button",{staticClass:"btn btn-sm my-1 bg-white",attrs:{type:"button"},on:{click:function(a){return e.printImage(t.path),!1}}},[a("i",{staticClass:"fa fa-print fa-lg"})])],e._v(" "),a("button",{staticClass:"btn btn-sm my-1 bg-white",class:e.checkFileType(t.path)?"":"ml-n2",attrs:{type:"button"},on:{click:function(a){return e.downloadImage(t.path,t.name)}}},[a("i",{staticClass:"fa fa-arrow-circle-down fa-lg"})])],2)])],2),e._v(" "),a("div",{staticClass:"flex-column"},[e.hideInModal?e._e():a("div",{staticClass:"flex-column flex-wrap"},[a("label",{staticClass:"font-weight-bold"},[e._v("Rendering notes for customer:")]),e._v(" "),a("button",{staticClass:"btn btn-sm p-0 font-italic text-left ml-1",attrs:{type:"button"},on:{click:function(a){return e.$set(t,"approval_needed",!t.approval_needed)}}},[e._v("("),a("u",[e._v("edit")]),e._v(")")]),e._v(" "),t.notes?a("textarea",{staticClass:"font-italic wrap-text ml-2",attrs:{readonly:"",rows:"3"}},[e._v(e._s(t.notes))]):e._e()])])]),e._v(" "),a("div",{staticClass:"flex-column ml-auto mx-3 my-auto"},[t.approval_needed?a("div",{staticClass:"flex-column"},[a("label",{staticClass:"mx-0 my-1"},[e._v("Notes:")]),e._v(" "),a("b-form-textarea",{staticClass:"mx-0",attrs:{"no-resize":"",size:"sm"},model:{value:t.notes,callback:function(a){e.$set(t,"notes",a)},expression:"img.notes"}}),e._v(" "),a("div",{staticClass:"justify-content-center"},[a("button",{staticClass:"btn btn-sm p-0",attrs:{type:"button"},on:{click:function(a){return e.saveImage({id:t.id,notes:t.notes},!0)}}},[e._v("Save")]),e._v(" "),a("button",{staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:function(e){t.notes=""}}},[e._v("Cancel")])])],1):e._e(),e._v(" "),a("button",{staticClass:"btn-info w-100 my-1 custom-infobtn-toolbar custom-infobtn-text",attrs:{type:"button"},on:{click:function(a){return e.moveFile({moveTo:"rejected",img:t})}}},[e._v("Reject for Customer")])])])])})),e._v(" "),e._l(e.collaborationImages.rejectedImages,(function(t,o){return a("div",{staticClass:"flex-column p-0 my-2 py-1 div-border"},[a("div",[e.hideInModal?e._e():a("div",{staticClass:"btn-close mx-1 justify-content-center"},[a("button",{staticClass:"btn btn-sm text-white p-0",attrs:{type:"button"},on:{click:function(a){return e.deleteFile(t)}}},[e._v("X")])]),e._v(" "),a("div",{staticClass:"flex-column flex-grow-1 text-center"},[a("label",{staticClass:"font-weight-bold text-primary"},[e._v("Rejected by "+e._s(t.rejected_by?t.rejected_by.name:e.username)+" "+e._s(e.whoRejectedImage(t.rejected_by)))]),e._v(" "),a("label",{staticClass:"text-info"},[e._v("Admin note:")]),e._v(" "),a("label",{staticClass:"text-info"},[e._v(e._s(t.custom_approved_at))]),e._v(" "),a("label",[e._v("Acknowledged by "+e._s(t.user?t.user.name:e.username)+" @ "+e._s(t.custom_approved_at))])])]),e._v(" "),a("div",[a("div",{staticClass:"flex-column mx-2"},[a("div",{staticClass:"d-flex"},[e.checkFileType(t.path)?[a("div",{staticClass:"flex-column border mx-1 mb-2 py-1 custom-image justify-content-center file-container"},[a("i",{staticClass:"fa fa-file fa-2x m-auto",staticStyle:{cursor:"pointer"},on:{click:function(a){return e.openPreviewNewPage(t.path)}}}),e._v(" "),a("label",{staticClass:"text-center",staticStyle:{cursor:"pointer"},on:{click:function(a){return e.openPreviewNewPage(t.path)}}},[e._v("\n                                                                        "+e._s(t.name.length>10?t.name.substr(0,10)+"...":t.name))])])]:[a("img",{staticClass:"mx-1 border p-1 rounded my-1 custom-image",staticStyle:{cursor:"pointer"},attrs:{src:"/".concat(t.path)},on:{click:function(a){return e.openPreviewNewPage(t.path)}}})],e._v(" "),a("div",{staticClass:"flex-column mt-1"},[a("label",{staticClass:"font-weight-bold custom-label customMarginUploadedFirst"},[e._v(e._s(t.name.length>20?t.name.substring(0,20)+"...":t.name))]),e._v(" "),a("label",{staticClass:"text-info custom-label customMarginUploaded"},[e._v(e._s(t.size))]),e._v(" "),a("label",{staticClass:"text-info custom-label customMarginUploaded"},[e._v(e._s(t.custom_created_at))]),e._v(" "),a("label",{staticClass:"custom-label customMarginUploaded"},[e._v(e._s(t.uploaded_by))]),e._v(" "),a("div",[e.checkFileType(t.path)?e._e():[a("button",{staticClass:"btn btn-sm my-1 bg-white",attrs:{type:"button"},on:{click:function(a){return e.printImage(t.path),!1}}},[a("i",{staticClass:"fa fa-print fa-lg"})])],e._v(" "),a("button",{staticClass:"btn btn-sm my-1 bg-white",class:e.checkFileType(t.path)?"":"ml-n2",attrs:{type:"button"},on:{click:function(a){return e.downloadImage(t.path,t.name)}}},[a("i",{staticClass:"fa fa-arrow-circle-down fa-lg"})])],2)])],2),e._v(" "),a("div",{staticClass:"flex-column"},[e.hideInModal?e._e():a("div",{staticClass:"flex-column flex-wrap"},[a("label",{staticClass:"font-weight-bold"},[e._v("Rendering notes for customer:")]),e._v(" "),a("button",{staticClass:"btn btn-sm p-0 font-italic text-left ml-1",attrs:{type:"button"},on:{click:function(a){return e.$set(t,"approval_needed",!t.approval_needed)}}},[e._v("("),a("u",[e._v("edit")]),e._v(")")]),e._v(" "),t.notes?a("textarea",{staticClass:"font-italic wrap-text ml-2",attrs:{readonly:"",rows:"3"}},[e._v(e._s(t.notes))]):e._e()])])]),e._v(" "),a("div",{staticClass:"flex-column ml-auto mx-3 my-auto"},[t.approval_needed?a("div",{staticClass:"flex-column"},[a("label",{staticClass:"mx-0 my-1"},[e._v("Notes:")]),e._v(" "),a("b-form-textarea",{staticClass:"mx-0",attrs:{"no-resize":"",size:"sm"},model:{value:t.notes,callback:function(a){e.$set(t,"notes",a)},expression:"img.notes"}}),e._v(" "),a("div",{staticClass:"justify-content-center"},[a("button",{staticClass:"btn btn-sm p-0",attrs:{type:"button"},on:{click:function(a){return e.saveImage({id:t.id,notes:t.notes},!0)}}},[e._v("Save")]),e._v(" "),a("button",{staticClass:"btn btn-sm",attrs:{type:"button"},on:{click:function(e){t.notes=""}}},[e._v("Cancel")])]),e._v(" "),a("button",{staticClass:"btn-info w-100 my-1 custom-infobtn-toolbar custom-infobtn-text",attrs:{type:"button"},on:{click:function(a){return e.moveFile({moveTo:"approved",img:t})}}},[e._v("Accept for Customer")]),e._v(" "),a("button",{staticClass:"btn-info w-100 my-1 custom-infobtn-toolbar custom-infobtn-text",attrs:{type:"button"},on:{click:function(t){}}},[e._v("Reject for Customer")])],1):e._e()])])])}))],2)])])],1)]),e._v(" "),a("div",{staticClass:"my-3 mr-3"},[e._m(3),e._v(" "),a("div",{staticClass:"flex-column flex-grow-1"},[a("b-button",{class:e.visibleCustomerView?"btn btn-sm bg-white text-dark text-left border":"btn btn-sm bg-white text-dark text-left border collapsed",attrs:{"aria-expanded":e.visibleCustomerView?"true":"false","aria-controls":"collapse-customer-view"},on:{click:function(t){e.visibleCustomerView=!e.visibleCustomerView}}},[a("i",{class:e.toggleIcon(e.visibleCustomerView)}),e._v(" Click here to open or close\n                                    customer view section\n                                ")]),e._v(" "),a("b-collapse",{attrs:{id:"collapse-customer-view"},model:{value:e.visibleCustomerView,callback:function(t){e.visibleCustomerView=t},expression:"visibleCustomerView"}},[a("div",{staticClass:"flex-column flex-grow-1 border rounded bg-white px-0"},[e.isClient||e.hideInModal?e._e():a("div",{staticClass:"bg-toolbar p-1"},[a("button",{directives:[{name:"b-modal",rawName:"v-b-modal.file-upload-modal",modifiers:{"file-upload-modal":!0}}],staticClass:"btn btn-sm border-0 list-toolbar custom-edit-text",attrs:{type:"button"},on:{click:function(t){e.formFields.uploadedFrom="customers"}}},[e._v("Add Files\n                                            ")])]),e._v(" "),a("div",{staticClass:"flex-column px-1 pb-1"},e._l(e.collaborationImages.customerImages,(function(t,o){return a("div",{staticClass:"p-0 my-2 div-border py-2"},[e.checkFileType(t.path)?[a("div",{staticClass:"flex-column border mx-1 mb-2 py-1 custom-image justify-content-center file-container"},[a("i",{staticClass:"fa fa-file fa-2x m-auto",staticStyle:{cursor:"pointer"},on:{click:function(a){return e.openPreviewNewPage(t.path)}}}),e._v(" "),a("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"text-center",staticStyle:{cursor:"pointer"},attrs:{title:"".concat(t.name)},on:{click:function(a){return e.openPreviewNewPage(t.path)}}},[e._v("\n                                                            "+e._s(t.name.length>10?t.name.substr(0,10)+"...":t.name))])])]:[a("img",{staticClass:"mx-1 border p-1 rounded my-1 custom-image",staticStyle:{cursor:"pointer"},attrs:{src:"/".concat(t.path)},on:{click:function(a){return e.openPreviewNewPage(t.path)}}})],e._v(" "),a("div",{staticClass:"flex-column mt-1"},[a("label",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"font-weight-bold custom-label",attrs:{title:"".concat(t.name)}},[e._v(e._s(t.name.length>20?t.name.substring(0,13)+"..."+t.name.substring(t.name.length-7):t.name))]),e._v(" "),a("label",{staticClass:"text-info custom-label"},[e._v(e._s(t.size))]),e._v(" "),a("label",{staticClass:"text-info custom-label"},[e._v(e._s(t.custom_created_at))]),e._v(" "),a("label",{staticClass:"custom-label"}),e._v(" "),a("div",[e.checkFileType(t.path)?e._e():[a("button",{staticClass:"btn btn-sm my-1 bg-white",attrs:{type:"button"},on:{click:function(a){return e.printImage(t.path),!1}}},[a("i",{staticClass:"fa fa-print fa-lg"})])],e._v(" "),a("button",{staticClass:"btn btn-sm my-1 bg-white",class:e.checkFileType(t.path)?"":"ml-n2",attrs:{type:"button"},on:{click:function(a){return e.downloadImage(t.path,t.name)}}},[a("i",{staticClass:"fa fa-arrow-circle-down fa-lg"})])],2)]),e._v(" "),e.isClient||e.hideInModal?e._e():a("div",{staticClass:"flex-column col-4 mx-3 ml-auto"},[a("button",{staticClass:"btn-info mx-1 my-1 custom-infobtn-toolbar custom-infobtn-text mt-5 w-100",attrs:{type:"button"},on:{click:function(a){return e.deleteFile(t)}}},[e._v("Remove File")]),e._v(" "),a("button",{directives:[{name:"b-modal",rawName:"v-b-modal.customer-email-modal",modifiers:{"customer-email-modal":!0}}],staticClass:"btn-info mx-1 my-1 custom-infobtn-toolbar custom-infobtn-text mt-1 w-100",attrs:{type:"button"},on:{click:function(a){return e.showCustomerViewMailPopup(t)}}},[e._v("Send Email")])])],2)})),0)])])],1)])]),e._v(" "),a("div",{staticClass:"col-6 div-shadow bg-white rounded d-block pl-0"},[a("div",{staticClass:"custom-row justify-content-between"},[e._m(4),e._v(" "),a("div",[a("label",[e._v("Date Promised")]),e._v(" "),a("b-form-datepicker",{staticClass:"input-xl ml-auto mr-0 input-date",attrs:{"date-format-options":{year:"numeric",month:"numeric",day:"numeric"},disabled:e.hideInModal,"close-button":"",locale:"en",placeholder:"","reset-button":"",size:"sm","today-button":""},on:{input:function(t){e.order.invoice.date_promised=e.checkDate(e.order.invoice.date_promised)}},model:{value:e.order.invoice.date_promised,callback:function(t){e.$set(e.order.invoice,"date_promised",t)},expression:"order.invoice.date_promised"}})],1)]),e._v(" "),a("div",{staticClass:"custom-row"},[a("div",{staticClass:"ml-n2"},[a("label",[e._v("Order Date")]),e._v(" "),a("b-form-input",{staticClass:"input-md",attrs:{value:e.changeDateFormat(e.order.date),disabled:"",size:"sm",type:"text"}})],1),e._v(" "),a("div",[a("label",[e._v("Invoice No.")]),e._v(" "),a("b-form-input",{staticClass:"input-md",attrs:{value:e.order.invoice.invoice_number,disabled:"",size:"sm",type:"text"}})],1),e._v(" "),a("div",[a("label",[e._v("Email")]),e._v(" "),a("b-form-input",{staticClass:"input-xl-width",attrs:{value:e.order.family.email,disabled:"",size:"sm",type:"text"}})],1)]),e._v(" "),e._m(5),e._v(" "),a("div",{staticClass:"custom-row mt-2 ml-n2"},[a("div",[a("label",[e._v("Stores")]),e._v(" "),a("b-form-input",{staticClass:"input-xl",attrs:{value:e.order.company.name,disabled:"",size:"sm",type:"text"}})],1),e._v(" "),a("div",[a("label",[e._v("Salesperson")]),e._v(" "),a("b-form-input",{staticClass:"input-xl",attrs:{value:e.order.sales_person,disabled:"",size:"sm",type:"text"}})],1)]),e._v(" "),e._m(6),e._v(" "),a("div",{staticClass:"custom-row mt-2"},[a("div",{staticClass:"ml-n2"},[a("label",[e._v("Last Name on Stone")]),e._v(" "),a("b-form-input",{staticClass:"input-lg",attrs:{value:e.order.family.name_on_stone,disabled:"",size:"sm",type:"text"}})],1),e._v(" "),a("div",[a("label",[e._v("Customer Contact")]),e._v(" "),a("b-form-input",{attrs:{value:e.order.family.contact,disabled:"",size:"sm",type:"text"}})],1),e._v(" "),a("div",[a("label",[e._v("Phone")]),e._v(" "),a("b-form-input",{staticClass:"input-sm",attrs:{value:e.order.family.phone,disabled:"",size:"sm",type:"text"}})],1)]),e._v(" "),a("div",{staticClass:"custom-row",class:e.hideInModal?"custom-minwidth-45":"custom-minwidth-47"},[a("div",{staticClass:"col-12 ml-n3"},[a("b-table",{staticClass:"small",attrs:{fields:e.productsTableFields,items:e.order.products,bordered:"",responsive:"",small:""},scopedSlots:e._u([{key:"cell(product_number)",fn:function(t){return[t.item.non_stock_product&&t.item.non_stock_product.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(t.item.non_stock_product[0].product_number))])]:e._e(),e._v(" "),t.item.monument&&t.item.monument.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(t.item.monument[0].product_number))])]:e._e(),e._v(" "),t.item.service&&t.item.service.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(t.item.service[0].product_number))])]:e._e(),e._v(" "),t.item.simple&&t.item.simple.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(t.item.simple[0].product_number))])]:e._e(),e._v(" "),t.item.composite&&t.item.composite.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(t.item.composite[0].product_number))])]:e._e()]}},{key:"cell(item_name)",fn:function(t){return[t.item.non_stock_product&&t.item.non_stock_product.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(t.item.non_stock_product[0].item_name))])]:e._e(),e._v(" "),t.item.monument&&t.item.monument.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(t.item.monument[0].item_name))])]:e._e(),e._v(" "),t.item.service&&t.item.service.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(t.item.service[0].item_name))])]:e._e(),e._v(" "),t.item.simple&&t.item.simple.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(t.item.simple[0].item_name))])]:e._e(),e._v(" "),t.item.composite&&t.item.composite.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(t.item.composite[0].item_name))])]:e._e()]}},{key:"cell(client_price)",fn:function(t){return[t.item.non_stock_product&&t.item.non_stock_product.length>0?[a("label",{staticClass:"d-none"},[e._v(e._s(t.item.client_price>t.item.price?t.item.client_price:t.item.client_price=t.item.price))]),e._v(" "),a("label",{staticClass:"d-flex product-table"},[e._v("$ "+e._s(e.changeNumberFormat(t.item.client_price)?e.changeNumberFormat(t.item.client_price):"0.00"))])]:[a("label",{staticClass:"d-flex product-table"},[e._v("$ "+e._s(e.changeNumberFormat(t.item.client_price)?e.changeNumberFormat(t.item.client_price):"0.00"))])]]}},{key:"cell(amount)",fn:function(t){return[a("label",{staticClass:"d-none"},[e._v("$ "+e._s(t.item.amount=Math.abs(t.item.quantity*t.item.client_price).toFixed(2)))]),e._v(" "),a("label",{},[e._v("$ "+e._s(e.changeNumberFormat(t.item.amount)?e.changeNumberFormat(t.item.amount):"0.00"))]),e._v(" "),a("input",{attrs:{disabled:"",name:"amount",type:"hidden"},domProps:{value:t.item.amount}})]}},{key:"cell(installation_price)",fn:function(t){return[a("label",{staticClass:"d-flex product-table"},[e._v("$ "+e._s(e.changeNumberFormat(t.item.installation_price)?e.changeNumberFormat(t.item.installation_price):"0.00"))])]}},{key:"cell(installation_amount)",fn:function(t){return[a("label",{staticClass:"d-none"},[e._v("$ "+e._s(Math.abs(t.item.quantity*t.item.installation_price).toFixed(2)))]),e._v(" "),a("label",[e._v("$ "+e._s(e.changeNumberFormat(t.item.quantity*t.item.installation_price)?e.changeNumberFormat(t.item.quantity*t.item.installation_price):"0.00"))])]}},{key:"cell(total)",fn:function(t){return[a("label",{staticClass:"d-none"},[e._v("$ "+e._s(t.item.total=Math.abs(+t.item.amount+parseFloat(""==t.item.installation_price?0:t.item.quantity*t.item.installation_price)).toFixed(2)))]),e._v(" "),a("label",[e._v("$ "+e._s(e.changeNumberFormat(t.item.total)?e.changeNumberFormat(t.item.total):"0.00"))]),e._v(" "),a("input",{attrs:{disabled:"",name:"total",type:"hidden"},domProps:{value:t.item.total}})]}},{key:"cell(showProducts)",fn:function(t){return[t.item.iscompositeDetails?a("b-button",{staticClass:"btn btn-sm btn-info order-form-btn py-1 mx-1",attrs:{size:"sm"},on:{click:t.toggleDetails}},[e._v("\n                                            "+e._s(t.detailsShowing?"Hide":"Show")+"\n                                        ")]):e._e()]}},{key:"row-details",fn:function(t){return[a("b-card",{attrs:{"no-body":""}},[a("table",{staticClass:"table table-sm table-striped table-bordered my-2"},[a("thead",{staticClass:"custom-table-header"},[a("tr",[a("th",[e._v("Product #")]),e._v(" "),a("th",[e._v("Product Name")]),e._v(" "),a("th",[e._v("Qty")]),e._v(" "),a("th",[e._v("Price")]),e._v(" "),a("th",[e._v("Amount")]),e._v(" "),a("th",[e._v("Install Price")]),e._v(" "),a("th",[e._v("Install Amount")])])]),e._v(" "),a("tbody",{staticClass:"custom-table-body"},e._l(t.item.composite[0].composite_products,(function(o,s){return a("tr",[a("td",[o.monument&&o.monument.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(o.monument[0].product_number))])]:e._e(),e._v(" "),o.service&&o.service.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(o.service[0].product_number))])]:e._e(),e._v(" "),o.simple&&o.simple.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(o.simple[0].product_number))])]:e._e()],2),e._v(" "),a("td",[o.monument&&o.monument.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(o.monument[0].item_name))])]:e._e(),e._v(" "),o.service&&o.service.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(o.service[0].item_name))])]:e._e(),e._v(" "),o.simple&&o.simple.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(o.simple[0].item_name))])]:e._e()],2),e._v(" "),a("td",[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v(e._s(t.item.quantity*o.quantity))])]),e._v(" "),a("td",[o.monument&&o.monument.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v("$ "+e._s(e.changeNumberFormat(o.monument[0].override_selling_price)?e.changeNumberFormat(o.monument[0].override_selling_price):"0.00"))])]:e._e(),e._v(" "),o.service&&o.service.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v("$ "+e._s(e.changeNumberFormat(o.service[0].override_selling_price)?e.changeNumberFormat(o.service[0].override_selling_price):"0.00"))])]:e._e(),e._v(" "),o.simple&&o.simple.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v("$ "+e._s(e.changeNumberFormat(o.simple[0].override_selling_price)?e.changeNumberFormat(o.simple[0].override_selling_price):"0.00"))])]:e._e()],2),e._v(" "),a("td",[o.monument&&o.monument.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v("$ "+e._s(e.changeNumberFormat(t.item.quantity*o.quantity*o.monument[0].override_selling_price)?e.changeNumberFormat(t.item.quantity*o.quantity*o.monument[0].override_selling_price):"0.00"))])]:e._e(),e._v(" "),o.service&&o.service.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v("$ "+e._s(e.changeNumberFormat(t.item.quantity*o.quantity*o.service[0].override_selling_price)?e.changeNumberFormat(t.item.quantity*o.quantity*o.service[0].override_selling_price):"0.00"))])]:e._e(),e._v(" "),o.simple&&o.simple.length>0?[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v("$ "+e._s(e.changeNumberFormat(t.item.quantity*o.quantity*o.simple[0].override_selling_price)?e.changeNumberFormat(t.item.quantity*o.quantity*o.simple[0].override_selling_price):"0.00"))])]:e._e()],2),e._v(" "),a("td",[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v("$ "+e._s(e.changeNumberFormat(o.installation_price)?e.changeNumberFormat(o.installation_price):"0.00"))])]),e._v(" "),a("td",[a("label",{staticClass:"d-flex justify-content-center product-table"},[e._v("$ "+e._s(e.changeNumberFormat(t.item.quantity*o.quantity*o.installation_price)?e.changeNumberFormat(t.item.quantity*o.quantity*o.installation_price):"0.00"))])])])})),0)])])]}}])})],1)]),e._v(" "),a("div",{staticClass:"custom-row d-block ml-n2"},[e._m(7),e._v(" "),a("div",[a("b-form-textarea",{staticClass:"mx-2",attrs:{disabled:e.hideInModal,"no-resize":"",rows:"3",size:"sm"},model:{value:e.formFields.notes,callback:function(t){e.$set(e.formFields,"notes",t)},expression:"formFields.notes"}})],1)])])]),e._v(" "),e.isClient?e._e():a("div",{staticClass:"custom-row d-block div-shadow bg-white rounded pb-2"},[e._m(8),e._v(" "),e.hideInModal?e._e():a("div",{staticClass:"custom-row bg-primary ml-n3"},[a("button",{staticClass:"btn btn-sm list-toolbar m-1 border-0",attrs:{type:"button"},on:{click:function(t){return e.addTask("collaboration")}}},[e._v("Add Task\n                        ")]),e._v(" "),a("button",{staticClass:"btn btn-sm list-toolbar m-1 border-0",attrs:{disabled:0==e.deleteCollaborationTasks.length,type:"button"},on:{click:function(t){return e.deleteTask("collaboration")}}},[e._v("\n                            Delete Task\n                        ")])]),e._v(" "),a("div",{staticClass:"custom-row d-block"},[e.order.collaboration.tasks.length>0?a("div",[e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),e._m(13),e._v(" "),e._m(14),e._v(" "),e._m(15),e._v(" "),e._m(16)]):e._e(),e._v(" "),e._l(e.order.collaboration.tasks,(function(t,o){return a("div",{staticClass:"my-2",attrs:{id:"collaboration-"+o}},[e.hideInModal?e._e():a("div",{class:""},[a("input",{attrs:{type:"checkbox"},on:{click:function(t){return e.selectRow({event:t,type:"collaboration",id:e.order.collaboration.tasks[o].id,currentKey:o})}}})]),e._v(" "),a("div",{staticClass:"col-1 task-collaboration-date"},[a("b-form-datepicker",{staticClass:"my-auto input-date",attrs:{"date-format-options":{year:"2-digit",month:"numeric",day:"numeric"},disabled:e.hideInModal,"close-button":"",locale:"en",name:"date",placeholder:"","reset-button":"",size:"sm","today-button":""},on:{input:function(t){e.order.collaboration.tasks[o].date=e.checkDate(e.order.collaboration.tasks[o].date)}},model:{value:e.order.collaboration.tasks[o].date,callback:function(t){e.$set(e.order.collaboration.tasks[o],"date",t)},expression:"order.collaboration.tasks[key].date"}})],1),e._v(" "),a("div",{staticClass:"col-2 ml-n4 collaboration-task-block"},[a("b-dropdown",{staticClass:"border rounded dropdown-width",attrs:{disabled:e.hideInModal,"no-caret":"",size:"sm","toggle-class":"",variant:"none"},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("div",{staticClass:"d-flex flex-wrap"},[a("small",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"d-flex flex-wrap",attrs:{title:e.order.collaboration.tasks[o].assigned_to?e.order.collaboration.tasks[o].assigned_to:""}},[e._v("\n                                                "+e._s(e.order.collaboration.tasks[o].assigned_to?e.order.collaboration.tasks[o].assigned_to.length>25?e.order.collaboration.tasks[o].assigned_to.substr(0,25)+"...":e.order.collaboration.tasks[o].assigned_to:"Search Collaborator")+"\n                                            ")]),e._v(" "),a("i",{staticClass:"fa fa-caret-down ml-auto",attrs:{"aria-hidden":"true"}})])]},proxy:!0}],null,!0)},[e._v(" "),a("b-dropdown-group",{staticClass:"overflow-auto scroll px-1"},[a("div",{staticClass:"justify-content-center"},[a("div",{staticClass:"my-1 w-100 mx-1"},[a("b-form-input",{staticClass:"mt-1",attrs:{size:"sm"},on:{keydown:e.stopOutline},model:{value:e.searchTerm,callback:function(t){e.searchTerm=t},expression:"searchTerm"}})],1)]),e._v(" "),e._l(e.searchCollaboratorList,(function(t){return[a("b-dropdown-group",{staticClass:"mx-2 drop-list-2",class:[e.isOutline?"":"remove-outline"],on:{click:e.handleDropdownChange}},[a("b-dropdown-item-button",{on:{click:function(a){e.order.collaboration.tasks[o].assigned_to=t.full_name}}},[a("label",{staticClass:"ml-n4 px-1",domProps:{innerHTML:e._s(t.text)}},[e._v(e._s(t.text))])])],1)]}))],2)],1)],1),e._v(" "),a("div",{staticClass:"col-4 ml-n4 collaboration-task-block"},[a("b-form-input",{attrs:{disabled:e.hideInModal,size:"sm",type:"text"},model:{value:e.order.collaboration.tasks[o].task,callback:function(t){e.$set(e.order.collaboration.tasks[o],"task",t)},expression:"order.collaboration.tasks[key].task"}})],1),e._v(" "),a("div",{staticClass:"col-1 ml-n4 collaboration-task-block collaboration-dept-width"},[a("b-form-select",{staticClass:"form-control form-control-sm custom-caret-form dept-select-width",attrs:{disabled:e.hideInModal,options:e.deptList,name:"collaboration[dept_id]",size:"sm"},on:{change:function(t){return e.departmentLabel(e.order.collaboration.tasks[o].department_id)}},scopedSlots:e._u([{key:"first",fn:function(){return[a("b-form-select-option",{attrs:{value:null,disabled:""}},[e._v("Select")])]},proxy:!0}],null,!0),model:{value:e.order.collaboration.tasks[o].department_id,callback:function(t){e.$set(e.order.collaboration.tasks[o],"department_id",t)},expression:"order.collaboration.tasks[key].department_id"}})],1),e._v(" "),a("div",{staticClass:"col-1 ml-2 collaboration-task-block"},[a("b-form-input",{attrs:{disabled:e.hideInModal,size:"sm",type:"text"},model:{value:e.order.collaboration.tasks[o].created_by,callback:function(t){e.$set(e.order.collaboration.tasks[o],"created_by",t)},expression:"order.collaboration.tasks[key].created_by"}})],1),e._v(" "),a("div",{staticClass:"col-1 ml-n4 task-collaboration-closedate"},[a("b-form-datepicker",{staticClass:"my-auto input-date",attrs:{"date-format-options":{year:"2-digit",month:"numeric",day:"numeric"},disabled:e.hideInModal,"close-button":"",locale:"en",name:"date",placeholder:"","reset-button":"",size:"sm","today-button":""},on:{input:function(t){e.order.collaboration.tasks[o].close_date=e.closeDateChanged(e.order.collaboration.tasks[o].close_date,o)}},model:{value:e.order.collaboration.tasks[o].close_date,callback:function(t){e.$set(e.order.collaboration.tasks[o],"close_date",t)},expression:"order.collaboration.tasks[key].close_date"}})],1),e._v(" "),a("div",{staticClass:"col-1 ml-n4 collaboration-task-block"},[a("b-dropdown",{staticClass:"border rounded dropdown-width",class:"pending"==e.order.collaboration.tasks[o].status?"bg-red":"in_progress"==e.order.collaboration.tasks[o].status?"bg-warning":"Complete"==e.order.collaboration.tasks[o].status?"bg-success":"",staticStyle:{width:"10rem"},attrs:{disabled:e.hideInModal,"no-caret":"",size:"sm",variant:"none"},scopedSlots:e._u([{key:"button-content",fn:function(){return[a("div",{staticClass:"d-flex",staticStyle:{color:"white"}},[a("small",[e._v(e._s(e.order.collaboration.tasks[o].status?e.customizeLabel(e.order.collaboration.tasks[o].status):e.order.collaboration.tasks[o].status="pending")+"\n                                            ")]),e._v(" "),a("i",{staticClass:"fa fa-caret-down ml-auto",attrs:{"aria-hidden":"true"}})])]},proxy:!0}],null,!0)},[e._v(" "),a("b-dropdown-group",{staticClass:"px-1"},[e._l(e.statusList,(function(t){return[a("b-dropdown-group",[a("b-dropdown-item-button",{staticClass:"small",on:{click:function(a){e.order.collaboration.tasks[o].status=t.value}}},[e._v("\n                                                    "+e._s(t.text)+"\n                                                ")])],1)]}))],2)],1)],1)])}))],2)]),e._v(" "),e.isClient?e._e():a("div",{staticClass:"custom-row d-block div-shadow bg-white rounded pb-2"},[e._m(17),e._v(" "),e.hideInModal?e._e():a("div",{staticClass:"custom-row bg-primary ml-n3"},[a("button",{staticClass:"btn btn-sm list-toolbar m-1 border-0",attrs:{type:"button"},on:{click:function(t){return e.addTask("correspondence",{})}}},[e._v("Add Task\n                        ")]),e._v(" "),a("button",{staticClass:"btn btn-sm list-toolbar m-1 border-0",attrs:{disabled:0==e.deleteCorrespondenceTask.length,type:"button"},on:{click:function(t){return e.deleteTask("correspondence")}}},[e._v("\n                            Delete Task\n                        ")])]),e._v(" "),a("div",{staticClass:"custom-row d-block"},[(null===(t=e.order.correspondence.tasks)||void 0===t?void 0:t.length)>0?a("div",[e._m(18),e._v(" "),e._m(19),e._v(" "),e._m(20),e._v(" "),e._m(21),e._v(" "),e._m(22),e._v(" "),e._m(23),e._v(" "),e._m(24),e._v(" "),e._m(25)]):e._e(),e._v(" "),e._l(e.order.correspondence.tasks,(function(t,o){return a("div",{staticClass:"my-2 correspondence-row"},[e.hideInModal?e._e():a("div",{class:"",staticStyle:{position:"absolute"}},[a("input",{staticClass:"correspondence-checkbox",attrs:{type:"checkbox"},on:{change:function(t){return e.selectRow({event:t,type:"correspondence",id:e.order.correspondence.tasks[o].id,currentKey:o})}}})]),e._v(" "),a("div",{staticClass:"col-1 task-collaboration-date"},[a("b-form-datepicker",{staticClass:"my-auto input-date correspondence-date",attrs:{"date-format-options":{year:"2-digit",month:"numeric",day:"numeric"},disabled:e.hideInModal,"close-button":"",locale:"en",name:"date",placeholder:"","reset-button":"",size:"sm","today-button":""},on:{input:function(t){e.order.correspondence.tasks[o].date=e.checkDate(e.order.correspondence.tasks[o].date)}},model:{value:e.order.correspondence.tasks[o].date,callback:function(t){e.$set(e.order.correspondence.tasks[o],"date",t)},expression:"order.correspondence.tasks[key].date"}})],1),e._v(" "),a("div",{staticClass:"col-1 ml-n4 collaboration-task-block",staticStyle:{"min-width":"6.5rem"}},[a("b-form-textarea",{staticClass:"textarea-overflow",attrs:{disabled:e.hideInModal,rows:e.autoResizeWhoCorsp(e.order.correspondence.tasks[o].who_corsp),"no-resize":"",size:"sm",type:"text"},model:{value:e.order.correspondence.tasks[o].who_corsp,callback:function(t){e.$set(e.order.correspondence.tasks[o],"who_corsp",t)},expression:"order.correspondence.tasks[key].who_corsp"}})],1),e._v(" "),a("div",{staticClass:"col-1 ml-n4 collaboration-task-block collaboration-form-communication"},[a("b-form-textarea",{staticClass:"textarea-overflow",attrs:{disabled:e.hideInModal,rows:e.autoResizeFormCommunication(e.order.correspondence.tasks[o].form_of_communication),"no-resize":"",size:"sm",type:"text"},model:{value:e.order.correspondence.tasks[o].form_of_communication,callback:function(t){e.$set(e.order.correspondence.tasks[o],"form_of_communication",t)},expression:"order.correspondence.tasks[key].form_of_communication"}})],1),e._v(" "),a("div",{staticClass:"col-2 ml-n4 collaboration-task-block",staticStyle:{"min-width":"12rem"}},[a("b-form-textarea",{staticClass:"textarea-overflow",attrs:{disabled:e.hideInModal,rows:e.autoResizeWhyContacted(e.order.correspondence.tasks[o].why_contacted),"no-resize":"",size:"sm",type:"text"},model:{value:e.order.correspondence.tasks[o].why_contacted,callback:function(t){e.$set(e.order.correspondence.tasks[o],"why_contacted",t)},expression:"order.correspondence.tasks[key].why_contacted"}})],1),e._v(" "),a("div",{staticClass:"col-3 ml-n4 collaboration-task-block",staticStyle:{"min-width":"20rem"}},[a("b-form-textarea",{staticClass:"textarea-overflow",attrs:{disabled:e.hideInModal,rows:e.autoResizeCustomerReason(e.order.correspondence.tasks[o].customer_reasons),"no-resize":"",size:"sm",type:"text"},model:{value:e.order.correspondence.tasks[o].customer_reasons,callback:function(t){e.$set(e.order.correspondence.tasks[o],"customer_reasons",t)},expression:"order.correspondence.tasks[key].customer_reasons"}})],1),e._v(" "),a("div",{staticClass:"col-3 ml-n4 collaboration-task-block"},[a("b-form-textarea",{staticClass:"textarea-overflow",attrs:{disabled:e.hideInModal,rows:e.autoResizeNotes(e.order.correspondence.tasks[o].notes),"no-resize":"",size:"sm",type:"text"},model:{value:e.order.correspondence.tasks[o].notes,callback:function(t){e.$set(e.order.correspondence.tasks[o],"notes",t)},expression:"order.correspondence.tasks[key].notes"}})],1),e._v(" "),a("div",{staticClass:"col-1 ml-n4 collaboration-task-block"},[a("b-form-textarea",{staticClass:"textarea-overflow",staticStyle:{"min-width":"8rem"},attrs:{disabled:e.hideInModal,rows:e.autoResizeContactName(e.order.correspondence.tasks[o].contact_name,"contact_name"),"no-resize":"",size:"sm",type:"text"},model:{value:e.order.correspondence.tasks[o].contact_name,callback:function(t){e.$set(e.order.correspondence.tasks[o],"contact_name",t)},expression:"order.correspondence.tasks[key].contact_name"}})],1)])}))],2)]),e._v(" "),e.isClient?e._e():a("div",{staticClass:"custom-row d-block div-shadow bg-white rounded pb-2"},[a("div",{staticClass:"custom-row d-block"},[a("div",[a("h6",{staticClass:"ml-n4 my-2 custom-form-heading"},[e._v("Order Log")]),e._v(" "),a("b-button",{class:e.visibleOrderLog?"btn btn-sm bg-white text-dark text-left ml-5":"btn btn-sm  bg-white text-dark text-left collapsed ml-5",staticStyle:{"border-style":"none"},attrs:{"aria-expanded":e.visibleOrderLog?"true":"false","aria-controls":"collapse-order-logs"},on:{click:function(t){e.visibleOrderLog=!e.visibleOrderLog}}},[a("i",{class:e.toggleIcon(e.visibleOrderLog)}),e._v(" Click here to Open/Close Order Log\n                            ")])],1)]),e._v(" "),a("b-collapse",{staticClass:"flex-column rounded bg-white",attrs:{id:"collapse-order-logs"},model:{value:e.visibleOrderLog,callback:function(t){e.visibleOrderLog=t},expression:"visibleOrderLog"}},[a("div",{staticClass:"custom-row d-block m-0 pl-0 ml-4"},[e.hideInModal?e._e():[e.isAdmin?a("button",{staticClass:"btn-info mx-1 custom-infobtn-toolbar custom-infobtn-text",attrs:{disabled:0==e.deleteOrderLog.length,type:"button"},on:{click:function(t){return e.deleteLog()}}},[e._v("\n                                    Delete Log\n                                ")]):e._e()],e._v(" "),e.orderLogs.length>0?a("div",[a("div",{staticStyle:{visibility:"hidden"}},[a("input",{attrs:{type:"checkbox"}})]),e._v(" "),a("div",{staticClass:"col-1 task-collaboration-date"},[a("label",[e._v("Date")])]),e._v(" "),a("div",{staticClass:"col-5 ml-n4 collaboration-task-block"},[a("label",[e._v("Logs")])]),e._v(" "),a("div",{staticClass:"col-1 ml-n4 collaboration-task-block collaboration-form-communication"},[a("label",[e._v("By")])]),e._v(" "),a("div",{staticClass:"col-5 ml-n4 collaboration-task-block",staticStyle:{"min-width":"20rem"}},[a("label",{},[e._v("Notes")])])]):e._e(),e._v(" "),e._l(e.orderLogs,(function(t,o){return a("div",{staticClass:"my-2"},[e.hideInModal?e._e():a("div",{class:""},[a("input",{attrs:{type:"checkbox"},on:{change:function(t){return e.selectOrderLog({event:t,id:e.orderLogs[o].id,currentKey:o})}}})]),e._v(" "),a("div",{staticClass:"col-1 task-collaboration-date"},[a("b-form-input",{attrs:{disabled:"",size:"sm",type:"text"},model:{value:e.orderLogs[o].date,callback:function(t){e.$set(e.orderLogs[o],"date",t)},expression:"orderLogs[key].date"}})],1),e._v(" "),a("div",{staticClass:"col-5 ml-n4 collaboration-task-block"},[a("b-form-input",{attrs:{disabled:"",size:"sm",type:"text"},model:{value:e.orderLogs[o].log,callback:function(t){e.$set(e.orderLogs[o],"log",t)},expression:"orderLogs[key].log"}})],1),e._v(" "),a("div",{staticClass:"col-1 ml-n4 collaboration-task-block collaboration-form-communication"},[a("b-form-input",{attrs:{disabled:"",size:"sm",type:"text"},model:{value:e.orderLogs[o].user.name,callback:function(t){e.$set(e.orderLogs[o].user,"name",t)},expression:"orderLogs[key].user.name"}})],1),e._v(" "),a("div",{staticClass:"col-5 ml-n4 collaboration-task-block"},[a("b-form-input",{attrs:{disabled:e.hideInModal,size:"sm",type:"text"},model:{value:e.orderLogs[o].notes,callback:function(t){e.$set(e.orderLogs[o],"notes",t)},expression:"orderLogs[key].notes"}})],1)])}))],2)])],1),e._v(" "),e.hideInModal?e._e():a("div",{staticClass:"toolbar ml-auto"},[e.isUpdatePermitted?a("button",{staticClass:"btn-info mx-1 custom-infobtn-toolbar custom-infobtn-text",attrs:{disabled:e.saveDisabled,type:"button"},on:{click:e.storeCollaboration}},[e._v("\n                        "+e._s(e.id?"Update":"Save")),e.saveDisabled?a("span",{staticClass:"spinner-grow spinner-grow-sm ml-1"}):e._e()]):e._e()])]],2)]),e._v(" "),a("FileUploadModal",{attrs:{formFields:e.formFields}}),e._v(" "),a("PDF",{staticStyle:{"margin-left":"-2rem !important"},attrs:{title:"printApprovalConfimation"}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"d-flex flex-column text-center"},[a("h1",{staticStyle:{"font-size":"40px !important","font-weight":"600"}},[e._v("FRISBIE MONUMENTS")]),e._v(" "),a("label",{staticClass:"m-0",staticStyle:{"font-size":"18px !important"}},[e._v("Thank you for approving the monument for JOHN SMITH ? ordered from "+e._s(e.order.company.name))]),e._v(" "),a("label",{staticStyle:{"font-size":"18px !important"}},[e._v("Order # "+e._s(e.order.id)+" was ordered on "+e._s(e.order.customDate)+".")])])]),e._v(" "),a("div",{attrs:{slot:"body"},slot:"body"},[a("b-table",{staticClass:"no-border small",attrs:{fields:e.approvedTableFields,items:e.collaborationImages.approvedImages,responsive:"",small:""},scopedSlots:e._u([{key:"head()",fn:function(t){return[a("label",{staticStyle:{"font-size":"25px !important"}},[e._v(e._s(t.label))])]}},{key:"cell(approved_by)",fn:function(t){return[e._v("\n                    "+e._s(t.item.user?t.item.user.name:"")+"\n                ")]}}])})],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})]),e._v(" "),a("b-modal",{attrs:{id:"customer-email-modal",title:"Customer View  -  Send Email"},scopedSlots:e._u([{key:"modal-footer",fn:function(t){t.ok,t.cancel,t.hide;return[a("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:e.sendCustomerViewMail}},[e._v("Send Email")])]}}])},[e._v(" "),a("div",{staticClass:"custom-row d-block"},[a("b-form-textarea",{staticClass:"mx-0 mt-2",attrs:{disabled:!0,"no-resize":"",placeholder:"Emails...",size:"sm"},model:{value:e.customer_email,callback:function(t){e.customer_email=t},expression:"customer_email"}}),e._v(" "),a("b-form-textarea",{staticClass:"mx-0 mt-2",attrs:{"no-resize":"",placeholder:"Message here...",rows:"4",size:"sm"},model:{value:e.customer_message,callback:function(t){e.customer_message=t},expression:"customer_message"}}),e._v(" "),a("label",[e._v("Uploaded Image:")]),e._v(" "),a("a",{staticClass:"mt-3",staticStyle:{"font-size":"12px !important"},attrs:{href:e.customer_image,size:"sm"}},[e._v(e._s(e.customer_image_name&&e.customer_image_name.length>20?e.customer_image_name.substring(0,20)+"...":e.customer_image_name))])],1)])],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"col-2 p-0"},[t("label",{},[this._v("Email")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-2 p-0"},[t("label",{},[this._v("Upload Files")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-2 p-0"},[t("label",[this._v("Approvals")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-2 p-0"},[t("label",[this._v("Customer View")])])},function(){var t=this._self._c;return t("div",[t("h6",{staticClass:"m-0 custom-form-heading"},[this._v("Order Form")])])},function(){var t=this._self._c;return t("div",{staticClass:"custom-row"},[t("div",[t("h6",{staticClass:"m-0 custom-form-heading mt-3"},[this._v("Store Location Info.")])])])},function(){var t=this._self._c;return t("div",{staticClass:"custom-row"},[t("div",[t("h6",{staticClass:"m-0 custom-form-heading mt-3"},[this._v("Family Information")])])])},function(){var t=this._self._c;return t("div",[t("h6",{staticClass:"ml-2 custom-form-heading mt-1"},[this._v("Notes")])])},function(){var t=this._self._c;return t("div",{staticClass:"custom-row d-block"},[t("div",[t("h6",{staticClass:"ml-n4 my-2 custom-form-heading"},[this._v("Task Collaboration")])])])},function(){var t=this._self._c;return t("div",{staticStyle:{visibility:"hidden"}},[t("input",{attrs:{type:"checkbox"}})])},function(){var t=this._self._c;return t("div",{staticClass:"col-1 task-collaboration-date",staticStyle:{"margin-left":"3px"}},[t("label",{staticClass:"m-0"},[this._v("Date")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-2 ml-n4 collaboration-task-block"},[t("label",{staticClass:"m-0"},[this._v("Assigned To")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-4 ml-n4 collaboration-task-block"},[t("label",{staticClass:"m-0"},[this._v("Task")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-1 ml-n4 collaboration-task-block collaboration-dept-width"},[t("label",{staticClass:"m-0"},[this._v("Dept")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-1 ml-2 collaboration-task-block"},[t("label",{staticClass:"m-0"},[this._v("Created By")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-1 task-collaboration-closedate",staticStyle:{"margin-left":"-23px"}},[t("label",{staticClass:"m-0"},[this._v("Close Date")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-1 ml-n4 collaboration-task-block"},[t("label",{staticClass:"m-0"},[this._v("Task Status")])])},function(){var t=this._self._c;return t("div",{staticClass:"custom-row d-block"},[t("div",[t("h6",{staticClass:"ml-n4 my-2 custom-form-heading"},[this._v("Correspondence")])])])},function(){var t=this._self._c;return t("div",{staticStyle:{visibility:"hidden"}},[t("input",{attrs:{type:"checkbox"}})])},function(){var t=this._self._c;return t("div",{staticClass:"col-1 task-collaboration-date"},[t("label",[this._v("Date")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-1 ml-n4 collaboration-task-block",staticStyle:{"min-width":"6.5rem"}},[t("label",[this._v("Who Corsp")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-1 ml-n4 collaboration-task-block collaboration-form-communication"},[t("label",[this._v("Form of Communication")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-2 ml-n4 collaboration-task-block",staticStyle:{"min-width":"12rem"}},[t("label",{},[this._v("Why Contacted")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-3 ml-n4 collaboration-task-block",staticStyle:{"min-width":"20rem"}},[t("label",{},[this._v("Reasons From Customer")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-3 ml-n4 collaboration-task-block"},[t("label",{},[this._v("Notes")])])},function(){var t=this._self._c;return t("div",{staticClass:"col-1 ml-n4 collaboration-task-block"},[t("label",{},[this._v("Name of Contact")])])}],!1,null,"9b6451ce",null).exports}}]);