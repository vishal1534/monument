"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4641],{25949:(t,e,s)=>{s.d(e,{Z:()=>o});var a=s(1519),r=s.n(a)()((function(t){return t[1]}));r.push([t.id,"li[data-v-1535f94f]{font-size:12px!important}",""]);const o=r},77816:(t,e,s)=>{s.d(e,{Z:()=>o});var a=s(1519),r=s.n(a)()((function(t){return t[1]}));r.push([t.id,"li[data-v-214507c6]{font-size:12px!important}",""]);const o=r},60418:(t,e,s)=>{s.d(e,{Z:()=>o});var a=s(1519),r=s.n(a)()((function(t){return t[1]}));r.push([t.id,".page-container[data-v-2256f52a]{min-height:100vh;position:relative}.content-wrap[data-v-2256f52a]{padding-bottom:2.5rem}",""]);const o=r},77886:(t,e,s)=>{s.d(e,{Z:()=>l});const a={name:"Error",data:function(){return{}},props:["errors"],computed:{validationErrors:function(){var t=Object.values(this.errors);return t=t.flat()}}};var r=s(93379),o=s.n(r),n=s(25949),i={insert:"head",singleton:!1};o()(n.Z,i);n.Z.locals;const l=(0,s(51900).Z)(a,(function(){var t=this,e=t._self._c;return t.validationErrors?e("div",[e("ul",{staticClass:"alert alert-danger"},t._l(t.validationErrors,(function(s,a,r){return e("li",{staticClass:"font-weight-bold"},[t._v(t._s(s))])})),0)]):t._e()}),[],!1,null,"1535f94f",null).exports},28822:(t,e,s)=>{s.d(e,{Z:()=>l});const a={name:"Success",data:function(){return{}},props:["message"],computed:{successMessage:function(){return this.message}}};var r=s(93379),o=s.n(r),n=s(77816),i={insert:"head",singleton:!1};o()(n.Z,i);n.Z.locals;const l=(0,s(51900).Z)(a,(function(){var t=this,e=t._self._c;return t.successMessage?e("div",[e("ul",{staticClass:"alert alert-success"},[e("li",{staticClass:"font-weight-bold"},[t._v(t._s(t.message))])])]):t._e()}),[],!1,null,"214507c6",null).exports},84641:(t,e,s)=>{s.r(e),s.d(e,{default:()=>v});var a=s(28822),r=s(77886),o=s(70749),n=s(9669),i=s.n(n);const l={name:"CustomerNavBar",data:function(){return{formFields:{name:"",email:"",password:"",password_confirmation:""},user:{role:{}},errorResponse:!1,hideMainMinWidth:!1,validationErrors:"",successMessage:""}},metaInfo:function(){return{title:"MPS - Customer Portal"}},created:function(){},destroyed:function(){},computed:{userInfo:function(){return document.getElementById("remove-width-style").classList.remove("remove-div-width-for-mobile"),this.user=this.$store.state.auth.user?this.$store.state.auth.user:{role:{title:""}}},customerName:function(){if(this.$store.state.auth.user&&this.$store.state.auth.user.role)return this.$store.state.auth.user.name}},components:{Error:r.Z,Success:a.Z},beforeCreate:function(){var t=this;if(void 0!==localStorage.authUser){var e=JSON.parse(localStorage.getItem("authUser"));this.$store.commit("setAuthUser",e),i().defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("auth_token"))}(0,o.n3)((function(e){t.user=e.data;var s={user:e.data[0],isLoggedIn:!0};t.$store.commit("setAuthUser",s),localStorage.setItem("authUser",JSON.stringify(s)),i().defaults.headers.common.Authorization="Bearer ".concat(localStorage.getItem("auth_token"))}),(function(t){console.log("Auth",t)}))},mounted:function(){},methods:{setUserProfile:function(){this.successMessage="",this.validationErrors="",this.formFields.id=this.user.id?this.user.id:0,this.formFields.name=this.user.name?this.user.name:"",this.formFields.email=this.user.email?this.user.email:"",this.formFields.password="",this.formFields.password_confirmation=""},updateUserProfile:function(){var t=this;(0,o.ck)(this.formFields,(function(e){var s={user:e.data,isLoggedIn:!0};t.$store.commit("setAuthUser",s),localStorage.setItem("authUser",JSON.stringify(s)),t.validationErrors="",t.successMessage="Profile Successfully Updated",setTimeout((function(){t.successMessage=""}),3e3)}),(function(e){422==e.response.status&&(t.successMessage="",t.validationErrors=e.response.data.errors)}))},logoutUser:function(){var t=this;(0,o.TX)((function(e){localStorage.clear(),t.$store.commit("setAuthUser",{user:null,isLoggedIn:!1,auth_token:null}),t.$router.push({name:"Login"})}),(function(e){t.$store.commit("setAuthUser",{user:null,isLoggedIn:!1}),t.$router.push({name:"Login"})}))}}};var c=s(51900);const u={name:"CustomerMaster",metaInfo:function(){return{title:"Dashboard",titleTemplate:"%s - MPS",meta:[{name:"description",content:"Monument"},{property:"og:title",content:"Monument"},{property:"og:site_name",content:"Monument"},{property:"og:type",content:"website"},{name:"robots",content:"index,follow"}]}},components:{CustomerNavBar:(0,c.Z)(l,(function(){var t=this,e=t._self._c;return e("div",[e("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"info"}},[e("router-link",{staticClass:"custom-navbar-brand mr-2",attrs:{to:"/",exact:""}},[t._v("Monument")]),t._v(" "),e("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),t._v(" "),e("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[e("b-navbar-nav",{staticClass:"ml-auto"},[e("i",{staticClass:"fa fa-user fa-lg mt-2",staticStyle:{color:"white"}}),t._v(" "),e("b-nav-item-dropdown",{attrs:{text:t.customerName,right:""}},[[e("div",{staticClass:"mx-1"},[e("div",{staticClass:"text-center"},[e("i",{staticClass:"fa fa-user fa-5x"})])]),t._v(" "),e("div",{staticClass:"mx-2 text-center"},[e("div",{staticClass:"mx-1"},[e("label",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.userInfo.role?t.userInfo.role.title:"Inactive"))])]),t._v(" "),e("div",{staticClass:"mx-1"},[e("label",{staticStyle:{"font-size":"14px"}},[t._v(t._s(t.userInfo.email?t.userInfo.email:""))])])])],t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"d-flex pt-2"},[e("div",{staticClass:"mx-1 w-50 pr-2 border-right"},[e("button",{directives:[{name:"b-modal",rawName:"v-b-modal.profile-update-modal",modifiers:{"profile-update-modal":!0}}],staticClass:"dropdown-item custom-navbar-dropdown",on:{click:function(e){return e.preventDefault(),t.setUserProfile.apply(null,arguments)}}},[t._v("Profile")])]),t._v(" "),e("div",{staticClass:"mx-1 w-50"},[e("button",{staticClass:"dropdown-item custom-navbar-dropdown",on:{click:function(e){return e.preventDefault(),t.logoutUser.apply(null,arguments)}}},[t._v("Logout")])])])],2)],1)],1)],1),t._v(" "),e("b-modal",{attrs:{id:"profile-update-modal",title:"User Profile"},scopedSlots:t._u([{key:"modal-footer",fn:function(s){s.ok,s.cancel,s.hide;return[e("b-button",{attrs:{size:"sm",variant:"primary"},on:{click:t.updateUserProfile}},[t._v("Update Profile")])]}}])},[t._v(" "),t.validationErrors?e("Error",{attrs:{errors:t.validationErrors}}):t._e(),t._v(" "),t.successMessage?e("Success",{attrs:{message:t.successMessage}}):t._e(),t._v(" "),e("div",{staticClass:"custom-row d-block"},[e("b-form-input",{staticClass:"my-2",attrs:{type:"text",size:"sm",placeholder:"Name"},model:{value:t.formFields.name,callback:function(e){t.$set(t.formFields,"name",e)},expression:"formFields.name"}}),t._v(" "),e("b-form-input",{staticClass:"my-2",attrs:{type:"email",readonly:"",size:"sm",placeholder:"Email"},model:{value:t.formFields.email,callback:function(e){t.$set(t.formFields,"email",e)},expression:"formFields.email"}}),t._v(" "),e("b-form-input",{staticClass:"my-2",attrs:{type:"password",size:"sm",placeholder:"New Password"},model:{value:t.formFields.password,callback:function(e){t.$set(t.formFields,"password",e)},expression:"formFields.password"}}),t._v(" "),e("b-form-input",{staticClass:"my-2",attrs:{type:"password",size:"sm",placeholder:"Confirm New Password"},model:{value:t.formFields.password_confirmation,callback:function(e){t.$set(t.formFields,"password_confirmation",e)},expression:"formFields.password_confirmation"}})],1)],1)],1)}),[],!1,null,"5b612d5c",null).exports}};var d=s(93379),m=s.n(d),f=s(60418),p={insert:"head",singleton:!1};m()(f.Z,p);f.Z.locals;const v=(0,c.Z)(u,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-container container-fluid p-0 overflow-hidden"},[e("div",{staticClass:"content-wrap"},[e("CustomerNavBar"),t._v(" "),t._t("default")],2)])}),[],!1,null,"2256f52a",null).exports}}]);