"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4535],{25949:(t,e,r)=>{r.d(e,{Z:()=>n});var a=r(1519),s=r.n(a)()((function(t){return t[1]}));s.push([t.id,"li[data-v-1535f94f]{font-size:12px!important}",""]);const n=s},43410:(t,e,r)=>{r.d(e,{Z:()=>n});var a=r(1519),s=r.n(a)()((function(t){return t[1]}));s.push([t.id,".form-row[data-v-4fea380e]{display:flex;margin:.5rem 0}.form-row div[data-v-4fea380e]{display:flex;margin:0 10px}.form-row div label[data-v-4fea380e]{margin:auto .5rem;white-space:nowrap!important;width:5rem}.form-row div input[data-v-4fea380e],select[data-v-4fea380e],textarea[data-v-4fea380e]{border:1px solid #c4c4c4!important;font-size:.7rem;margin:auto}.input-lg[data-v-4fea380e]{width:18rem}",""]);const n=s},77886:(t,e,r)=>{r.d(e,{Z:()=>l});const a={name:"Error",data:function(){return{}},props:["errors"],computed:{validationErrors:function(){var t=Object.values(this.errors);return t=t.flat()}}};var s=r(93379),n=r.n(s),o=r(25949),i={insert:"head",singleton:!1};n()(o.Z,i);o.Z.locals;const l=(0,r(51900).Z)(a,(function(){var t=this,e=t._self._c;return t.validationErrors?e("div",[e("ul",{staticClass:"alert alert-danger"},t._l(t.validationErrors,(function(r,a,s){return e("li",{staticClass:"font-weight-bold"},[t._v(t._s(r))])})),0)]):t._e()}),[],!1,null,"1535f94f",null).exports},61230:(t,e,r)=>{r.r(e),r.d(e,{default:()=>m});var a=r(9669),s=r.n(a),n=r(77886),o=r(71382),i=r(70749);const l={components:{NavBar:o.Z,Error:n.Z},data:function(){return{formFields:{email:"",password:"",remember_me:!1},validationErrors:"",errors:[]}},computed:{removeWidth:function(){document.getElementById("remove-width-style").classList.remove("remove-div-width-for-mobile")}},methods:{loginUser:function(){var t=this;s().get("/sanctum/csrf-cookie").then((function(){s().get("/api/authenticated").then((function(){(0,i.uL)((function(e){alert("User Already Logged In"),t.user=e.data;var r=e.data.auth_token,a={user:e.data[0],isLoggedIn:!0};t.$store.commit("setAuthUser",a),localStorage.setItem("auth_token",JSON.stringify(r)),localStorage.setItem("authUser",JSON.stringify(a)),r=r.replace(/['"]+/g,""),s().defaults.headers.Authorization="Bearer ".concat(r),"Customer"==e.data[0].role.title?t.$router.push("/customer-portal").catch((function(){})):t.$router.push({name:"Dashboard"})}),(function(t){console.log("Auth",t)}))})).catch((function(){(0,i.pH)(t.formFields,(function(e){var r=e.data.auth_token;r=r.replace(/['"]+/g,"");var a={user:e.data[0],isLoggedIn:!0};t.$store.commit("setAuthUser",a),localStorage.setItem("authUser",JSON.stringify(a)),localStorage.setItem("auth_token",JSON.stringify(r)),s().defaults.headers.Authorization="Bearer ".concat(r),"Customer"==e.data[0].role.title?t.$router.push("/customer-portal").catch((function(){})):t.$router.push(t.$route.query.redirect||"/")}),(function(e){422==e.response.status&&(t.validationErrors=e.response.data.errors)}))}))}))}},metaInfo:function(){return{title:"MPS - Login"}}};var c=r(93379),u=r.n(c),d=r(43410),f={insert:"head",singleton:!1};u()(d.Z,f);d.Z.locals;const m=(0,r(51900).Z)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-wrap w-full justify-center items-center"},[e("NavBar"),t._v(" "),e("div",{staticClass:"d-flex justify-content-center"},[e("div",{staticClass:"mt-5 border-3 p-5"},[t.validationErrors?e("Error",{attrs:{errors:t.validationErrors}}):t._e(),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"form-row justify-content-center mt-4"},[e("div",[e("b-form-input",{staticClass:"input-lg",attrs:{type:"text",required:"",placeholder:"Email",name:"name",size:"sm"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loginUser.apply(null,arguments)}},model:{value:t.formFields.email,callback:function(e){t.$set(t.formFields,"email",e)},expression:"formFields.email"}})],1)]),t._v(" "),e("div",{staticClass:"form-row justify-content-center"},[e("div",[e("b-form-input",{staticClass:"input-lg",attrs:{type:"password",required:"",placeholder:"Password",name:"address",size:"sm"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loginUser.apply(null,arguments)}},model:{value:t.formFields.password,callback:function(e){t.$set(t.formFields,"password",e)},expression:"formFields.password"}})],1)]),t._v(" "),e("div",{staticClass:"form-row justify-content-center mt-2"},[e("button",{staticClass:"btn-info custom-infobtn-toolbar custom-infobtn-text input-lg",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.loginUser.apply(null,arguments)}}},[t._v("\n                    Login\n                ")])]),t._v(" "),e("div",{staticClass:"form-row justify-content-end"},[e("div",{staticClass:"mr-4"},[e("label",{staticClass:"col-4 mr-5"},[e("router-link",{staticClass:"text-info",attrs:{to:"/forget-password"}},[t._v("Forget Your Password?")])],1)])]),t._v(" "),e("div",{staticClass:"col-9 justify-content-center form-row mt-3"},[e("div",{staticClass:"ml-n2"},[e("label",[t._v("Don't have an account? "),e("router-link",{staticClass:"text-info",attrs:{to:"/register"}},[t._v("Create one")])],1)])])],1)]),t._v("\n     "+t._s(t.removeWidth)+"\n\n")],1)}),[function(){var t=this._self._c;return t("div",{staticClass:"form-row"},[t("div",[t("h6",{staticClass:"my-auto custom-form-heading"},[this._v("Login to your account")])])])}],!1,null,"4fea380e",null).exports},71382:(t,e,r)=>{r.d(e,{Z:()=>s});const a={name:"NavBar"};const s=(0,r(51900).Z)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper"},[e("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"secondary"}},[e("b-navbar-brand",{staticClass:"custom-navbar-brand mr-2",attrs:{href:"#"}},[t._v("Monument")]),t._v(" "),e("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),t._v(" "),e("b-collapse",{staticClass:"justify-content-end",attrs:{"is-nav":"",id:"nav_collapse"}},[e("b-navbar-nav",[e("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[t._v("Login")]),t._v(" "),e("router-link",{staticClass:"nav-link",attrs:{to:"/register"}},[t._v("Register")])],1)],1)],1)],1)}),[],!1,null,"a4142c42",null).exports}}]);